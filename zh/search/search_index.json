{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"AI Solution Kit\u63d0\u4f9b\u4e00\u7cfb\u5217\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u4e91\u4e0a\u673a\u5668\u5b66\u4e60\u529f\u80fd\uff0c\u4f8b\u5982\u6587\u5b57\u8bc6\u522b\u3001\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u3001\u4eba\u8138\u68c0\u6d4b\u3001\u56fe\u50cf\u7406\u89e3\u7b49\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528API\uff0c\u8f7b\u677e\u4f7f\u7528\u5f00\u7bb1\u5373\u7528\u7684AI\u529f\u80fd\uff0c\u540c\u65f6\u4e0e\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u63d0\u4f9b\u7684\u5176\u5b83\u670d\u52a1\u65e0\u7f1d\u96c6\u6210\u3002 API\u5217\u8868 \u672c\u65b9\u6848\u901a\u8fc7Amazon API Gateway\u81ea\u52a8\u521b\u5efaREST API\uff0c\u60a8\u5728 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u540e\u5373\u53ef\u8c03\u7528\u6240\u9700\u7684AI\u529f\u80fd\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u652f\u6301\u7684API\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb\u8be6\u60c5\u94fe\u63a5\u67e5\u770bAPI\u63a5\u53e3\u7684\u6d4b\u8bd5\u65b9\u6cd5\u548c\u793a\u4f8b\u4ee3\u7801\u3002\u66f4\u591a\u4fe1\u606f\u53ef\u53c2\u89c1 API\u53c2\u8003\u6307\u5357 \u3002 \u6587\u5b57\u8bc6\u522b \u540d\u79f0 \u63cf\u8ff0 API \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09 \u57fa\u4e8e\u4eba\u5de5\u667a\u80fdOCR\uff08\u5149\u5b66\u5b57\u7b26\u8bc6\u522b\uff09\u6280\u672f\u53ef\u81ea\u52a8\u5b8c\u6210\u56fe\u7247\u4e2d\u6587\u5b57\u7684\u8bc6\u522b\uff0c\u5e76\u8fd4\u56de\u6587\u5b57\u5728\u56fe\u7247\u4e2d\u7684\u5750\u6807\u4f4d\u7f6e\u3001\u7f6e\u4fe1\u5ea6\u7b49\u4fe1\u606f\u3002 \u652f\u6301\u7b80\u4f53\u4e2d\u6587\u3002 \u8be6\u60c5 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u57fa\u4e8e\u4eba\u5de5\u667a\u80fdOCR\u6280\u672f\u53ef\u81ea\u52a8\u5b8c\u6210\u56fe\u7247\u4e2d\u6587\u5b57\u7684\u8bc6\u522b\uff0c\u5e76\u8fd4\u56de\u6587\u5b57\u5728\u56fe\u7247\u4e2d\u7684\u5750\u6807\u4f4d\u7f6e\u3001\u7f6e\u4fe1\u5ea6\u7b49\u4fe1\u606f\u3002 \u652f\u6301\u7e41\u4f53\u4e2d\u6587\u3002 \u8be6\u60c5 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u60a8\u53ef\u4ee5\u521b\u5efa\u7ed3\u6784\u5316\u6a21\u677f\uff0c\u901a\u8fc7\u81ea\u52a9\u670d\u52a1\u6a21\u677f\u8fdb\u884c\u81ea\u52a8\u8bc6\u522b\u5e76\u8f93\u51fa\u7ed3\u6784\u5316\u7ed3\u679c\u3002 \u8be6\u60c5 \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u8bc6\u522b\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u5883\u5185\u5e38\u89c1\u673a\u52a8\u8f66\u53f7\u724c\u4fe1\u606f\u3002 \u8be6\u60c5 \u4eba\u8138\u4e0e\u4eba\u4f53 \u540d\u79f0 \u63cf\u8ff0 API \u4eba\u8138\u68c0\u6d4b \u68c0\u6d4b\u548c\u5b9a\u4f4d\u56fe\u7247\u4e2d\u7684\u4eba\u8138\uff0c\u5e76\u8fd4\u56de\u9ad8\u7cbe\u5ea6\u7684\u4eba\u8138\u6846\u5750\u6807\u4fe1\u606f\u3002 \u8be6\u60c5 \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u5bf9\u56fe\u7247\u4e2d\u4eba\u8138\u9762\u90e8\u7279\u5f81\u8fdb\u884c\u9ad8\u7cbe\u51c6\u63d0\u53d6\u5206\u6790\uff0c\u4ece\u800c\u83b7\u53d6\u4e24\u5f20\u4eba\u8138\u7684\u76f8\u4f3c\u5ea6\u3002 \u8be6\u60c5 \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 \u68c0\u6d4b\u56fe\u7247\u4e2d\u4eba\u4f53\u7684\u5c5e\u6027\u5206\u6790\uff0c\u4f8b\u5982\u6027\u522b\u3001\u5e74\u9f84\u3002 \u8be6\u60c5 \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u8bc6\u522b\u56fe\u50cf\u4e2d\u7684\u4eba\u4f53\u8f6e\u5ed3\uff0c\u4e0e\u80cc\u666f\u8fdb\u884c\u5206\u79bb\u3002 \u8be6\u60c5 \u56fe\u50cf\u7406\u89e3 \u540d\u79f0 \u63cf\u8ff0 \u56fe\u50cf\u76f8\u4f3c\u5ea6 \u6bd4\u8f83\u4e24\u5e45\u56fe\u7247\u662f\u5426\u76f8\u4f3c\u3002 \u8be6\u60c5 \u901a\u7528\u7269\u4f53\u8bc6\u522b \u68c0\u6d4b\u56fe\u50cf\u4e2d\u7684\u5bf9\u8c61\u548c\u573a\u666f\uff0c\u5e76\u8fd4\u56de\u5b83\u4eec\u4ee5\u53ca\u6bcf\u4e2a\u5bf9\u8c61\u548c\u573a\u666f\u7684\u7f6e\u4fe1\u5ea6\u3002 \u8be6\u60c5 \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b \u5bf9\u56fe\u7247\u8fdb\u884c\u5ba1\u6838\uff0c\u8bc6\u522b\u5e76\u83b7\u53d6\u8272\u60c5\u91cf\u5316\u7a0b\u5ea6\u4fe1\u606f\u3002 \u8be6\u60c5 \u89c6\u89c9\u5185\u5bb9\u751f\u4ea7 \u540d\u79f0 \u63cf\u8ff0 \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u5c06\u5355\u5e45\u56fe\u7247\u8fdb\u884c\u667a\u80fd\u653e\u5927\uff0c\u4ece\u800c\u83b7\u5f97\u6e05\u6670\u5ea6\u9ad8\u3001\u7ec6\u8282\u4e30\u5bcc\u7684\u56fe\u50cf\u3002 \u8be6\u60c5 \u81ea\u7136\u8bed\u8a00\u7406\u89e3 \u540d\u79f0 \u63cf\u8ff0 \u6587\u672c\u76f8\u4f3c\u5ea6 \u8bc4\u4f30\u4e24\u4e2a\u5355\u8bcd\u3001\u53e5\u5b50\u3001\u6bb5\u843d\u6216\u6587\u6863\u7684\u76f8\u4f3c\u6027\u3002\u5bf9\u4e24\u4e2a\u6587\u672c\u7684\u76f8\u4f3c\u6216\u4e0d\u540c\u7a0b\u5ea6\u8fdb\u884c\u8bc4\u5206\u3002 \u8be6\u60c5 \u672c\u5b9e\u65bd\u6307\u5357\u4ecb\u7ecd\u5728Amazon Web Services\uff08\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\uff09\u4e91\u4e2d\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u7684\u67b6\u6784\u4fe1\u606f\u548c\u5177\u4f53\u914d\u7f6e\u6b65\u9aa4\u3002\u5b83\u5305\u542b\u6307\u5411CloudFormation\u6a21\u677f\u7684\u94fe\u63a5\uff0c\u8fd9\u4e9b\u6a21\u677f\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5728\u5b89\u5168\u6027\u548c\u53ef\u7528\u6027\u65b9\u9762\u7684\u6700\u4f73\u5b9e\u8df5\u6765\u542f\u52a8\u548c\u914d\u7f6e\u672c\u89e3\u51b3\u65b9\u6848\u6240\u9700\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u670d\u52a1\u3002 \u672c\u6307\u5357\u9762\u5411\u5177\u6709\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u67b6\u6784\u5b9e\u8df5\u7ecf\u9a8c\u7684IT\u67b6\u6784\u5e08\u3001\u5f00\u53d1\u4eba\u5458\u3001\u8fd0\u7ef4\u4eba\u5458\u7b49\u4e13\u4e1a\u4eba\u58eb\u3002","title":"\u6982\u8ff0"},{"location":"#api","text":"\u672c\u65b9\u6848\u901a\u8fc7Amazon API Gateway\u81ea\u52a8\u521b\u5efaREST API\uff0c\u60a8\u5728 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u540e\u5373\u53ef\u8c03\u7528\u6240\u9700\u7684AI\u529f\u80fd\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u652f\u6301\u7684API\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb\u8be6\u60c5\u94fe\u63a5\u67e5\u770bAPI\u63a5\u53e3\u7684\u6d4b\u8bd5\u65b9\u6cd5\u548c\u793a\u4f8b\u4ee3\u7801\u3002\u66f4\u591a\u4fe1\u606f\u53ef\u53c2\u89c1 API\u53c2\u8003\u6307\u5357 \u3002","title":"API\u5217\u8868"},{"location":"#_1","text":"\u540d\u79f0 \u63cf\u8ff0 API \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09 \u57fa\u4e8e\u4eba\u5de5\u667a\u80fdOCR\uff08\u5149\u5b66\u5b57\u7b26\u8bc6\u522b\uff09\u6280\u672f\u53ef\u81ea\u52a8\u5b8c\u6210\u56fe\u7247\u4e2d\u6587\u5b57\u7684\u8bc6\u522b\uff0c\u5e76\u8fd4\u56de\u6587\u5b57\u5728\u56fe\u7247\u4e2d\u7684\u5750\u6807\u4f4d\u7f6e\u3001\u7f6e\u4fe1\u5ea6\u7b49\u4fe1\u606f\u3002 \u652f\u6301\u7b80\u4f53\u4e2d\u6587\u3002 \u8be6\u60c5 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u57fa\u4e8e\u4eba\u5de5\u667a\u80fdOCR\u6280\u672f\u53ef\u81ea\u52a8\u5b8c\u6210\u56fe\u7247\u4e2d\u6587\u5b57\u7684\u8bc6\u522b\uff0c\u5e76\u8fd4\u56de\u6587\u5b57\u5728\u56fe\u7247\u4e2d\u7684\u5750\u6807\u4f4d\u7f6e\u3001\u7f6e\u4fe1\u5ea6\u7b49\u4fe1\u606f\u3002 \u652f\u6301\u7e41\u4f53\u4e2d\u6587\u3002 \u8be6\u60c5 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u60a8\u53ef\u4ee5\u521b\u5efa\u7ed3\u6784\u5316\u6a21\u677f\uff0c\u901a\u8fc7\u81ea\u52a9\u670d\u52a1\u6a21\u677f\u8fdb\u884c\u81ea\u52a8\u8bc6\u522b\u5e76\u8f93\u51fa\u7ed3\u6784\u5316\u7ed3\u679c\u3002 \u8be6\u60c5 \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u8bc6\u522b\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u5883\u5185\u5e38\u89c1\u673a\u52a8\u8f66\u53f7\u724c\u4fe1\u606f\u3002 \u8be6\u60c5","title":"\u6587\u5b57\u8bc6\u522b"},{"location":"#_2","text":"\u540d\u79f0 \u63cf\u8ff0 API \u4eba\u8138\u68c0\u6d4b \u68c0\u6d4b\u548c\u5b9a\u4f4d\u56fe\u7247\u4e2d\u7684\u4eba\u8138\uff0c\u5e76\u8fd4\u56de\u9ad8\u7cbe\u5ea6\u7684\u4eba\u8138\u6846\u5750\u6807\u4fe1\u606f\u3002 \u8be6\u60c5 \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u5bf9\u56fe\u7247\u4e2d\u4eba\u8138\u9762\u90e8\u7279\u5f81\u8fdb\u884c\u9ad8\u7cbe\u51c6\u63d0\u53d6\u5206\u6790\uff0c\u4ece\u800c\u83b7\u53d6\u4e24\u5f20\u4eba\u8138\u7684\u76f8\u4f3c\u5ea6\u3002 \u8be6\u60c5 \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 \u68c0\u6d4b\u56fe\u7247\u4e2d\u4eba\u4f53\u7684\u5c5e\u6027\u5206\u6790\uff0c\u4f8b\u5982\u6027\u522b\u3001\u5e74\u9f84\u3002 \u8be6\u60c5 \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u8bc6\u522b\u56fe\u50cf\u4e2d\u7684\u4eba\u4f53\u8f6e\u5ed3\uff0c\u4e0e\u80cc\u666f\u8fdb\u884c\u5206\u79bb\u3002 \u8be6\u60c5","title":"\u4eba\u8138\u4e0e\u4eba\u4f53"},{"location":"#_3","text":"\u540d\u79f0 \u63cf\u8ff0 \u56fe\u50cf\u76f8\u4f3c\u5ea6 \u6bd4\u8f83\u4e24\u5e45\u56fe\u7247\u662f\u5426\u76f8\u4f3c\u3002 \u8be6\u60c5 \u901a\u7528\u7269\u4f53\u8bc6\u522b \u68c0\u6d4b\u56fe\u50cf\u4e2d\u7684\u5bf9\u8c61\u548c\u573a\u666f\uff0c\u5e76\u8fd4\u56de\u5b83\u4eec\u4ee5\u53ca\u6bcf\u4e2a\u5bf9\u8c61\u548c\u573a\u666f\u7684\u7f6e\u4fe1\u5ea6\u3002 \u8be6\u60c5 \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b \u5bf9\u56fe\u7247\u8fdb\u884c\u5ba1\u6838\uff0c\u8bc6\u522b\u5e76\u83b7\u53d6\u8272\u60c5\u91cf\u5316\u7a0b\u5ea6\u4fe1\u606f\u3002 \u8be6\u60c5","title":"\u56fe\u50cf\u7406\u89e3"},{"location":"#_4","text":"\u540d\u79f0 \u63cf\u8ff0 \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u5c06\u5355\u5e45\u56fe\u7247\u8fdb\u884c\u667a\u80fd\u653e\u5927\uff0c\u4ece\u800c\u83b7\u5f97\u6e05\u6670\u5ea6\u9ad8\u3001\u7ec6\u8282\u4e30\u5bcc\u7684\u56fe\u50cf\u3002 \u8be6\u60c5","title":"\u89c6\u89c9\u5185\u5bb9\u751f\u4ea7"},{"location":"#_5","text":"\u540d\u79f0 \u63cf\u8ff0 \u6587\u672c\u76f8\u4f3c\u5ea6 \u8bc4\u4f30\u4e24\u4e2a\u5355\u8bcd\u3001\u53e5\u5b50\u3001\u6bb5\u843d\u6216\u6587\u6863\u7684\u76f8\u4f3c\u6027\u3002\u5bf9\u4e24\u4e2a\u6587\u672c\u7684\u76f8\u4f3c\u6216\u4e0d\u540c\u7a0b\u5ea6\u8fdb\u884c\u8bc4\u5206\u3002 \u8be6\u60c5 \u672c\u5b9e\u65bd\u6307\u5357\u4ecb\u7ecd\u5728Amazon Web Services\uff08\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\uff09\u4e91\u4e2d\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u7684\u67b6\u6784\u4fe1\u606f\u548c\u5177\u4f53\u914d\u7f6e\u6b65\u9aa4\u3002\u5b83\u5305\u542b\u6307\u5411CloudFormation\u6a21\u677f\u7684\u94fe\u63a5\uff0c\u8fd9\u4e9b\u6a21\u677f\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5728\u5b89\u5168\u6027\u548c\u53ef\u7528\u6027\u65b9\u9762\u7684\u6700\u4f73\u5b9e\u8df5\u6765\u542f\u52a8\u548c\u914d\u7f6e\u672c\u89e3\u51b3\u65b9\u6848\u6240\u9700\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u670d\u52a1\u3002 \u672c\u6307\u5357\u9762\u5411\u5177\u6709\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u67b6\u6784\u5b9e\u8df5\u7ecf\u9a8c\u7684IT\u67b6\u6784\u5e08\u3001\u5f00\u53d1\u4eba\u5458\u3001\u8fd0\u7ef4\u4eba\u5458\u7b49\u4e13\u4e1a\u4eba\u58eb\u3002","title":"\u81ea\u7136\u8bed\u8a00\u7406\u89e3"},{"location":"additional-resources/","text":"AWS Lambda Amazon SageMaker Amazon API Gateway Amazon ECR Amazon EFS AWS IAM Amazon EC2 AWS CloudFormation Amazon S3","title":"\u66f4\u591a\u8d44\u6e90"},{"location":"api-explorer/","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528API\u4f7f\u7528\u6240\u9700\u7684AI\u529f\u80fd\u3002 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u4eba\u8138\u68c0\u6d4b \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u56fe\u50cf\u76f8\u4f3c\u5ea6 \u901a\u7528\u7269\u4f53\u8bc6\u522b \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u6587\u672c\u76f8\u4f3c\u5ea6 | \u8c03\u7528\u65b9\u5f0f \u8c03\u7528AI\u529f\u80fd\u7684URL\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a NONE \uff0cAPI\u5c06\u5141\u8bb8\u533f\u540d\u8bbf\u95ee\u3002 \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a AWS_IAM \uff0c\u5c06\u88ab\u8981\u6c42\u4f7f\u7528AWS IAM\u8eab\u4efd\u9a8c\u8bc1\u7684\u8c03\u7528API\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u5728Amazon API Gateway\u4e2d\u8c03\u7528REST API \u3002 \u8c03\u7528\u5de5\u5177 API\u8d44\u6e90\u6d4f\u89c8\u5668 Postman cURL Python Java","title":"\u6982\u8ff0"},{"location":"api-explorer/#_1","text":"\u8c03\u7528AI\u529f\u80fd\u7684URL\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a NONE \uff0cAPI\u5c06\u5141\u8bb8\u533f\u540d\u8bbf\u95ee\u3002 \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a AWS_IAM \uff0c\u5c06\u88ab\u8981\u6c42\u4f7f\u7528AWS IAM\u8eab\u4efd\u9a8c\u8bc1\u7684\u8c03\u7528API\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u5728Amazon API Gateway\u4e2d\u8c03\u7528REST API \u3002","title":"\u8c03\u7528\u65b9\u5f0f"},{"location":"api-explorer/#_2","text":"API\u8d44\u6e90\u6d4f\u89c8\u5668 Postman cURL Python Java","title":"\u8c03\u7528\u5de5\u5177"},{"location":"architecture/","text":"\u672c\u65b9\u6848\u67b6\u6784\u4e2d\u5305\u542b\u4e24\u7c7bAI\u529f\u80fd\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a\u57fa\u4e8eAWS Lambda\u7684\u67b6\u6784\u548c\u57fa\u4e8eAmazon SageMaker\u7684\u67b6\u6784\u3002 \u8bf4\u660e \u57fa\u4e8eAmazon SageMaker\u7684\u67b6\u6784\u4ec5\u9002\u7528\u4e8e \u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u65b9\u6848 \u3002 \u57fa\u4e8eAWS Lambda\u7684\u67b6\u6784 \u7528\u6237\u6216\u7a0b\u5e8f\u53d1\u9001API\u8bf7\u6c42\u81f3Amazon API Gateway\u3002\u8bf7\u6c42payload\u4e2d\u9700\u8981\u5305\u542b\u88ab\u5904\u7406\u7684\u56fe\u7247\u6216\u6587\u5b57\u4fe1\u606f\u3002 Amazon API Gateway\u5c06\u63a5\u6536\u5230\u7684\u7528\u6237\u8bf7\u6c42\u76f4\u63a5\u53d1\u9001\u7ed9AWS Lambda\u51fd\u6570\u3002 AWS Lambda\u51fd\u6570\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u8c03\u7528\u7aef\u3002 \u57fa\u4e8eAmazon SageMaker\u7684\u67b6\u6784 \u7528\u6237\u6216\u7a0b\u5e8f\u53d1\u9001API\u8bf7\u6c42\u81f3Amazon API Gateway\u3002\u8bf7\u6c42payload\u4e2d\u9700\u8981\u5305\u542b\u88ab\u5904\u7406\u7684\u56fe\u7247\u6216\u6587\u5b57\u4fe1\u606f\u3002 Amazon API Gateway\u5c06\u8bf7\u6c42\u53d1\u9001\u5230AWS Lambda\uff08invoke endpoint\uff09\u51fd\u6570\u3002 AWS Lambda\u8c03\u7528Amazon SageMaker Endpoint\uff0c\u5728Amazon SageMaker\u4e2d\u6267\u884c\u63a8\u7406\u8fc7\u7a0b\u5e76\u8fd4\u56de\u63a8\u7406\u7ed3\u679c\uff08\u901a\u5e38\u4e3aJSON\u683c\u5f0f\u6570\u636e\uff09\u3002","title":"\u67b6\u6784\u6982\u89c8"},{"location":"architecture/#aws-lambda","text":"\u7528\u6237\u6216\u7a0b\u5e8f\u53d1\u9001API\u8bf7\u6c42\u81f3Amazon API Gateway\u3002\u8bf7\u6c42payload\u4e2d\u9700\u8981\u5305\u542b\u88ab\u5904\u7406\u7684\u56fe\u7247\u6216\u6587\u5b57\u4fe1\u606f\u3002 Amazon API Gateway\u5c06\u63a5\u6536\u5230\u7684\u7528\u6237\u8bf7\u6c42\u76f4\u63a5\u53d1\u9001\u7ed9AWS Lambda\u51fd\u6570\u3002 AWS Lambda\u51fd\u6570\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u8c03\u7528\u7aef\u3002","title":"\u57fa\u4e8eAWS Lambda\u7684\u67b6\u6784"},{"location":"architecture/#amazon-sagemaker","text":"\u7528\u6237\u6216\u7a0b\u5e8f\u53d1\u9001API\u8bf7\u6c42\u81f3Amazon API Gateway\u3002\u8bf7\u6c42payload\u4e2d\u9700\u8981\u5305\u542b\u88ab\u5904\u7406\u7684\u56fe\u7247\u6216\u6587\u5b57\u4fe1\u606f\u3002 Amazon API Gateway\u5c06\u8bf7\u6c42\u53d1\u9001\u5230AWS Lambda\uff08invoke endpoint\uff09\u51fd\u6570\u3002 AWS Lambda\u8c03\u7528Amazon SageMaker Endpoint\uff0c\u5728Amazon SageMaker\u4e2d\u6267\u884c\u63a8\u7406\u8fc7\u7a0b\u5e76\u8fd4\u56de\u63a8\u7406\u7ed3\u679c\uff08\u901a\u5e38\u4e3aJSON\u683c\u5f0f\u6570\u636e\uff09\u3002","title":"\u57fa\u4e8eAmazon SageMaker\u7684\u67b6\u6784"},{"location":"cost/","text":"\u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u7c7b\u578b Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u5165\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u51fa\u91cf \u8bf4\u660e Amazon SageMaker\u76f8\u5173\u7684\u8d39\u7528\u4ec5\u9002\u7528\u4e8e\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u65b9\u6848\u3002 \u60a8\u53ef\u4ee5\u67e5\u770b\u6bcf\u4e2aAPI\u5bf9\u5e94\u7684\u6210\u672c\u9884\u4f30\u7ae0\u8282\uff0c\u4e86\u89e3\u6bcf\u4e2aAPI\u5e94\u7528\u7684\u90e8\u7f72\u4e0e\u5b9e\u9645\u4f7f\u7528\u6210\u672c\u3002 \u540d\u79f0 \u6210\u672c\u9884\u4f30 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09 \u67e5\u770b \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u67e5\u770b \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u67e5\u770b \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u67e5\u770b \u4eba\u8138\u8bc6\u522b \u67e5\u770b \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u67e5\u770b \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 \u67e5\u770b \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u67e5\u770b \u56fe\u50cf\u76f8\u4f3c\u5ea6 \u67e5\u770b \u901a\u7528\u7269\u4f53\u8bc6\u522b \u67e5\u770b \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b \u67e5\u770b \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u67e5\u770b \u6587\u672c\u76f8\u4f3c\u5ea6 \u67e5\u770b","title":"\u6210\u672c\u9884\u4f30"},{"location":"cost/#_1","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u7c7b\u578b Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u5165\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u51fa\u91cf \u8bf4\u660e Amazon SageMaker\u76f8\u5173\u7684\u8d39\u7528\u4ec5\u9002\u7528\u4e8e\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u65b9\u6848\u3002 \u60a8\u53ef\u4ee5\u67e5\u770b\u6bcf\u4e2aAPI\u5bf9\u5e94\u7684\u6210\u672c\u9884\u4f30\u7ae0\u8282\uff0c\u4e86\u89e3\u6bcf\u4e2aAPI\u5e94\u7528\u7684\u90e8\u7f72\u4e0e\u5b9e\u9645\u4f7f\u7528\u6210\u672c\u3002 \u540d\u79f0 \u6210\u672c\u9884\u4f30 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09 \u67e5\u770b \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u67e5\u770b \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u67e5\u770b \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u67e5\u770b \u4eba\u8138\u8bc6\u522b \u67e5\u770b \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u67e5\u770b \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 \u67e5\u770b \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u67e5\u770b \u56fe\u50cf\u76f8\u4f3c\u5ea6 \u67e5\u770b \u901a\u7528\u7269\u4f53\u8bc6\u522b \u67e5\u770b \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b \u67e5\u770b \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u67e5\u770b \u6587\u672c\u76f8\u4f3c\u5ea6 \u67e5\u770b","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-add-delete-api/","text":"\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd \u60a8\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539AWS CloudFormation\u5806\u6808\u4e2d\u73b0\u6709\u8d44\u6e90\u7684\u5c5e\u6027\uff0c\u6dfb\u52a0\u65b0\u7684AI\u529f\u80fd\u6216\u5220\u9664\u5df2\u7ecf\u90e8\u7f72\u7684AI\u529f\u80fd\u3002 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u90e8\u7f72\u5b8c\u6210\u7684\u89e3\u51b3\u65b9\u6848\u6839\u5806\u6808\uff0c\u6ce8\u610f\u4e0d\u8981\u9009\u62e9\u5d4c\u5957\u5806\u6808\uff08NESTED\uff09\u3002 \u5728 \u5806\u6808\u8be6\u7ec6\u4fe1\u606f \u9875\u9762\uff0c\u9009\u62e9 \u66f4\u65b0 \u3002 \u5728 \u6307\u5b9a\u6a21\u677f \u9875\u9762\uff0c\u9009\u62e9 \u4f7f\u7528\u5f53\u524d\u6a21\u677f \uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728\u53c2\u6570\u90e8\u5206\uff0c\u66f4\u6539\u76f8\u5e94\u7684\u53c2\u6570\u4fe1\u606f\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002\u4f8b\u5982\uff0c\u5982\u679c Custom Template OCR \u539f\u6765\u4e3ano\uff0c\u53ef\u4ee5\u66f4\u6539\u8bbe\u7f6e\u4e3ayes\uff0c\u4ece\u800c\u6dfb\u52a0 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u529f\u80fd\u3002 \u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u5ba1\u6838 \u9875\u9762\uff0c\u67e5\u770b\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u786e\u4fdd\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efaAmazon Identity and Access Management\uff08IAM\uff09\u8d44\u6e90\u7684\u590d\u9009\u6846\u3002\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u786e\u8ba4\u66f4\u6539\uff0c\u5e76\u9009\u62e9 \u66f4\u65b0\u5806\u6808 \u3002","title":"\u66f4\u65b0CloudFormation\u5806\u6808"},{"location":"deploy-add-delete-api/#ai","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539AWS CloudFormation\u5806\u6808\u4e2d\u73b0\u6709\u8d44\u6e90\u7684\u5c5e\u6027\uff0c\u6dfb\u52a0\u65b0\u7684AI\u529f\u80fd\u6216\u5220\u9664\u5df2\u7ecf\u90e8\u7f72\u7684AI\u529f\u80fd\u3002 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u90e8\u7f72\u5b8c\u6210\u7684\u89e3\u51b3\u65b9\u6848\u6839\u5806\u6808\uff0c\u6ce8\u610f\u4e0d\u8981\u9009\u62e9\u5d4c\u5957\u5806\u6808\uff08NESTED\uff09\u3002 \u5728 \u5806\u6808\u8be6\u7ec6\u4fe1\u606f \u9875\u9762\uff0c\u9009\u62e9 \u66f4\u65b0 \u3002 \u5728 \u6307\u5b9a\u6a21\u677f \u9875\u9762\uff0c\u9009\u62e9 \u4f7f\u7528\u5f53\u524d\u6a21\u677f \uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728\u53c2\u6570\u90e8\u5206\uff0c\u66f4\u6539\u76f8\u5e94\u7684\u53c2\u6570\u4fe1\u606f\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002\u4f8b\u5982\uff0c\u5982\u679c Custom Template OCR \u539f\u6765\u4e3ano\uff0c\u53ef\u4ee5\u66f4\u6539\u8bbe\u7f6e\u4e3ayes\uff0c\u4ece\u800c\u6dfb\u52a0 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u529f\u80fd\u3002 \u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u5ba1\u6838 \u9875\u9762\uff0c\u67e5\u770b\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u786e\u4fdd\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efaAmazon Identity and Access Management\uff08IAM\uff09\u8d44\u6e90\u7684\u590d\u9009\u6846\u3002\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u786e\u8ba4\u66f4\u6539\uff0c\u5e76\u9009\u62e9 \u66f4\u65b0\u5806\u6808 \u3002","title":"\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd"},{"location":"deploy-car-license-plate/","text":"\u68c0\u6d4b\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u5883\u5185\u5e38\u89c1\u673a\u52a8\u8f66\u53f7\u724c\uff0c\u5e76\u8bc6\u522b\u5176\u4e2d\u7684\u8f66\u724c\u53f7\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u505c\u8f66\u573a\u3001\u5c0f\u533a\u81ea\u52a8\u8bc6\u522b\u8f66\u8f86\u53f7\u724c\u4fe1\u606f\uff0c\u6216\u8f66\u8f86\u8fdd\u7ae0\u4fe1\u606f\u68c0\u6d4b\u7b49\u573a\u666f\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e words String \u8bc6\u522b\u8f66\u724c\u5185\u5bb9 location JSON \u8bc6\u522b\u8f66\u724c\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u7684\u6574\u6570\u503c score Float \u8bc6\u522b\u8f66\u724c\u7684\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c \u8fd4\u56de\u793a\u4f8b [ { \"words\": \"\u4eacA45678\", \"location\": { \"top\": 18, \"left\": 30, \"width\": 169, \"height\": 17 }, \"score\": 0.9923796653747559 } ] \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 CarLicensePlate \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/car_license_plate\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 CarLicensePlate \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a6 \u5206\u949f","title":"\u8f66\u724c\u4fe1\u606f\u8bc6\u522b"},{"location":"deploy-car-license-plate/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u505c\u8f66\u573a\u3001\u5c0f\u533a\u81ea\u52a8\u8bc6\u522b\u8f66\u8f86\u53f7\u724c\u4fe1\u606f\uff0c\u6216\u8f66\u8f86\u8fdd\u7ae0\u4fe1\u606f\u68c0\u6d4b\u7b49\u573a\u666f\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-car-license-plate/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e words String \u8bc6\u522b\u8f66\u724c\u5185\u5bb9 location JSON \u8bc6\u522b\u8f66\u724c\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u7684\u6574\u6570\u503c score Float \u8bc6\u522b\u8f66\u724c\u7684\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c \u8fd4\u56de\u793a\u4f8b [ { \"words\": \"\u4eacA45678\", \"location\": { \"top\": 18, \"left\": 30, \"width\": 169, \"height\": 17 }, \"score\": 0.9923796653747559 } ]","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-car-license-plate/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-car-license-plate/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-car-license-plate/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 CarLicensePlate \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-car-license-plate/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-car-license-plate/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-car-license-plate/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/car_license_plate\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-car-license-plate/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/car_license_plate\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-car-license-plate/#_3","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-car-license-plate/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-car-license-plate/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-car-license-plate/#_4","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 CarLicensePlate \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a6 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-custom-ocr/","text":"\u5ba2\u6237\u53ef\u81ea\u5b9a\u4e49OCR\u6a21\u677f\uff0c\u63d0\u53d6\u5361\u8bc1\u7968\u636e\u4e2d\u7ed3\u6784\u5316\u6587\u5b57\u4fe1\u606f\uff0c\u5e76\u4ee5\u952e\u503c\u5bf9\u5e94\u5173\u7cfb\u7684\u5f62\u5f0f\u5c55\u73b0\u7ed3\u679c\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u5361\u8bc1\u7968\u636e\u7c7b\u56fe\u7247\u7684\u7ed3\u6784\u5316\u8bc6\u522b\u573a\u666f\uff0c\u5982\u7269\u6d41\u5355\u636e\u3001\u53d1\u7968\u3001\u8425\u4e1a\u6267\u7167\u3001\u884c\u7a0b\u5355\u3001\u706b\u8f66\u7968\u7b49\u3002 API\u53c2\u6570\u8bf4\u660e \u589e\u52a0\u6a21\u677f \u8fdb\u884c\u6587\u5b57\u8bc6\u522b\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u901a\u8fc7 \u589e\u52a0\u6a21\u677fAPI \u521b\u5efa\u6a21\u677f\u3002\u4e3a\u4e86\u63d0\u9ad8\u6587\u5b57\u8bc6\u522b\u51c6\u786e\u6027\uff0c\u8bf7\u9009\u62e9\u4e0e\u88ab\u8bc6\u522b\u56fe\u50cf\u7ec6\u8282\u8fd1\u4f3c\u5e76\u4e14\u6587\u5b57\u5185\u5bb9\u6e05\u6670\u7684\u56fe\u7247\u521b\u5efa\u6a21\u677f\u3002\u540c\u4e00\u4e2a\u6a21\u677f\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u8bc6\u522b\u533a\u57df\u3002 \u8981\u521b\u5efa\u6a21\u677f\uff0c\u6bcf\u4e2a\u5f85\u8bc6\u522b\u533a\u57df\u90fd\u9700\u8981\u6307\u5b9a\u77e9\u5f62\u6846\u7684\u56db\u4e2a\u5750\u6807\u70b9\u548c\u8be5\u533a\u57df\u7684\u540d\u79f0\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5e38\u89c1\u7684\u56fe\u50cf\u5904\u7406\u8f6f\u4ef6\u5982 GIMP \u6765\u8f85\u52a9\u83b7\u53d6\u5750\u6807\u70b9\u3002\u4ee5\u4e0b\u4e3a\u793a\u4f8b\u8bf4\u660e\uff1a \u5728\u56fe\u50cf\u5904\u7406\u8f6f\u4ef6\u4e2d\u5c06\u56fe\u7247\u5927\u5c0f\u7f29\u653e\u81f3100%\u3002 \u628a\u9f20\u6807\u79fb\u52a8\u5230\u56fe\u7247\u4e0a\uff0c\u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u5750\u6807\u70b9\u7684X\uff0cY\u503c\u3002\u6309\u7167 \u5de6\u4e0a\uff0c\u53f3\u4e0a\uff0c\u53f3\u4e0b\uff0c\u5de6\u4e0b \u987a\u5e8f\u5206\u522b\u8bb0\u5f55\u77e9\u5f62\u6846\u56db\u4e2a\u5750\u6807\u70b9\uff0c\u5e76\u6307\u5b9a\u8be5\u8bc6\u522b\u533a\u57df\u540d\u79f0\uff0c\u8bc6\u522b\u533a\u57df\u793a\u4f8b\u5982\u4e0b\uff1a [[[116, 335], [410, 335], [410, 374], [116, 374]], \"\u624b\u673a\u53f7\u7801\"] \u8bf7\u53c2\u8003\u589e\u52a0\u6a21\u677fAPI\u8bf7\u6c42Body\u793a\u4f8b\uff0c\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f\uff0c\u5e76\u5728\u521b\u5efa\u6210\u529f\u540e\u8bb0\u5f55\u7684\u6a21\u677fID\u3002 \u521b\u5efa\u597d\u6a21\u677f\u540e\uff0c\u9996\u5148\u7528\u539f\u56fe\u7247\u548c\u6a21\u677fID\u8fdb\u884c\u6587\u5b57\u8bc6\u522b\u6d4b\u8bd5\uff0c\u4ee5\u786e\u4fdd\u6a21\u677f\u80fd\u591f\u51c6\u786e\u8bc6\u522b\u5230\u6240\u9700\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u53d1\u73b0\u63d0\u53d6\u4fe1\u606f\u4e0d\u5b8c\u6574\u7684\u60c5\u51b5\uff0c\u8bf7\u786e\u8ba4\u5750\u6807\u70b9\u662f\u5426\u6807\u6ce8\u6b63\u786e\uff0c\u5e76\u9002\u5f53\u6269\u5927\u8bc6\u522b\u533a\u57df\u91cd\u65b0\u521b\u5efa\u6a21\u677f\u3002 \u8bf4\u660e \u77e9\u5f62\u6846\u533a\u57df\u5fc5\u987b\u5b8c\u5168\u8986\u76d6\u8981\u8bc6\u522b\u7684\u6587\u5b57\u5185\u5bb9\uff0c\u8bf7\u5728\u4e0d\u906e\u76d6\u5176\u4ed6\u8bc6\u522b\u77e9\u5f62\u533a\u57df\u7684\u524d\u63d0\u4e0b\uff0c\u5728\u8bc6\u522b\u533a\u57df\u56db\u8fb9\u7559\u51fa\u8db3\u591f\u7684\u5bb9\u9519\u7a7a\u95f4\uff0c\u4ece\u800c\u83b7\u5f97\u51c6\u786e\u7684\u8bc6\u522b\u80fd\u529b\u3002 \u4ee5\u4e0b\u4e3aAPI\u7684\u53c2\u6570\u8bf4\u660e\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e type String \u662f \u589e\u52a0\u6a21\u677f\u9700\u8981\u5c06 type \u6307\u5b9a\u4e3a add template List \u662f \u6bcf\u4e2a\u5143\u7d20\u4e3a\u4e00\u4e2a\u5f85\u63d0\u53d6\u533a\u57df\u5750\u6807\u53ca\u5176\u540d\u79f0\uff0c\u8bf7\u53c2\u8003 \u8bf7\u6c42 Body \u793a\u4f8b \u3002 \u8bf7\u6c42 Body \u793a\u4f8b { \"type\": \"add\", \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"template\": [ [ [[421, 465], [909, 471], [911, 503], [419, 495]], \"\u540d\u79f0\" ], [ [[419, 495], [911, 503], [909, 533], [415, 527]], \"\u8bc6\u522b\u53f7\" ], [ [[345, 339], [595, 343], [583, 397], [341, 385]], \"\u53d1\u7968\u53f7\" ] ] } { \"type\": \"add\", \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"template\": [ [ [[421, 465], [909, 471], [911, 503], [419, 495]], \"\u540d\u79f0\" ], [ [[419, 495], [911, 503], [909, 533], [415, 527]], \"\u8bc6\u522b\u53f7\" ], [ [[345, 339], [595, 343], [583, 397], [341, 385]], \"\u53d1\u7968\u53f7\" ] ] } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e template_id String \u6a21\u677f\u7684ID \u8fd4\u56de\u793a\u4f8b { \"template_id\": \"\u6a21\u677f\u7684ID\", } \u5185\u5bb9\u8bc6\u522b \u5728\u521b\u5efa\u597d\u6a21\u677f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5bf9\u5e94\u7684\u6a21\u677f ID \u5bf9\u56fe\u7247\u8fdb\u884c\u6587\u5b57\u8bc6\u522b\uff0c\u8fd4\u56de\u503c\u4e3a\u6a21\u677f\u4e2d\u8bc6\u522b\u533a\u57df\u540d\u79f0\u4e0e\u6587\u672c\u5185\u5bb9\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e type String \u56fa\u5b9a\u4e3aquery template_id String \u5df2\u5b58\u5728\u7684\u6a21\u677fID \u8bf7\u6c42 Body \u793a\u4f8b { \"template_id\": \"\u5df2\u5b58\u5728\u7684\u6a21\u677fID\", \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e key String \u5b57\u6bb5\u540d value String \u63d0\u53d6\u5230\u7684\u503c score Float \u7f6e\u4fe1\u5ea6 \u8fd4\u56de\u793a\u4f8b [ { \"key\": \"\u540d\u79f0\", \"value\": \"\u4e9a\u9a6c\u900a\u901a\u6280\u672f\u670d\u52a1(\u5317\u4eac)\u6709\u9650\u516c\u53f8\", \"score\": 97.98 }, { \"key\": \"\u8bc6\u522b\u53f7\", \"value\": \"911101165900000000\", \"score\": 99.62 }, { \"key\": \"\u53d1\u7968\u53f7\", \"value\": \"4403212222\", \"score\": 96.58 } ] \u5220\u9664\u6a21\u677f \u5982\u679c\u9700\u8981\u5220\u9664\u6a21\u677f\uff0c\u53ef\u901a\u8fc7\u6307\u5b9a\u9700\u8981\u5220\u9664\u7684\u6a21\u677f ID \u8fdb\u884c\u5220\u9664\u3002\u8bf7\u6ce8\u610f\uff0c\u6a21\u677f\u88ab\u5220\u9664\u540e\u4e0d\u80fd\u6062\u590d\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e template_id List \u5df2\u5b58\u5728\u6a21\u677f\u7684id type String \u56fa\u5b9a\u4e3adel \u8bf7\u6c42 Body \u793a\u4f8b { \"type\": \"del\", \"template_id\": \"\u5df2\u5b58\u5728\u6a21\u677fID\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e template_id String \u5df2\u5220\u9664\u6a21\u677f\u7684ID \u8fd4\u56de\u793a\u4f8b { \"template_id\": \"\u5df2\u5220\u9664\u6a21\u677f\u7684ID\" } \u5217\u51fa\u6240\u6709\u6a21\u677f \u53ef\u4ee5\u628a\u5df2\u7ecf\u521b\u5efa\u7684\u6a21\u677f\u901a\u8fc7 ID \u5217\u8868\u7684\u65b9\u5f0f\u5217\u51fa\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e type String \u56fa\u5b9a\u4e3alist \u8bf7\u6c42 Body \u793a\u4f8b { \"type\": \"list\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e template_id_list List \u5df2\u5b58\u5728\u6a21\u677f\u7684\u5217\u8868 \u8fd4\u56de\u793a\u4f8b { \"template_id_list\": [\"\u5df2\u5b58\u5728\u6a21\u677f\u7684\u5217\u8868\"] } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 CustomOCR \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/custom_ocr\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 CustomOCR \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a20 \u5206\u949f","title":"\u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b"},{"location":"deploy-custom-ocr/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u5361\u8bc1\u7968\u636e\u7c7b\u56fe\u7247\u7684\u7ed3\u6784\u5316\u8bc6\u522b\u573a\u666f\uff0c\u5982\u7269\u6d41\u5355\u636e\u3001\u53d1\u7968\u3001\u8425\u4e1a\u6267\u7167\u3001\u884c\u7a0b\u5355\u3001\u706b\u8f66\u7968\u7b49\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-custom-ocr/#api","text":"","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-custom-ocr/#_2","text":"\u8fdb\u884c\u6587\u5b57\u8bc6\u522b\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u901a\u8fc7 \u589e\u52a0\u6a21\u677fAPI \u521b\u5efa\u6a21\u677f\u3002\u4e3a\u4e86\u63d0\u9ad8\u6587\u5b57\u8bc6\u522b\u51c6\u786e\u6027\uff0c\u8bf7\u9009\u62e9\u4e0e\u88ab\u8bc6\u522b\u56fe\u50cf\u7ec6\u8282\u8fd1\u4f3c\u5e76\u4e14\u6587\u5b57\u5185\u5bb9\u6e05\u6670\u7684\u56fe\u7247\u521b\u5efa\u6a21\u677f\u3002\u540c\u4e00\u4e2a\u6a21\u677f\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u8bc6\u522b\u533a\u57df\u3002 \u8981\u521b\u5efa\u6a21\u677f\uff0c\u6bcf\u4e2a\u5f85\u8bc6\u522b\u533a\u57df\u90fd\u9700\u8981\u6307\u5b9a\u77e9\u5f62\u6846\u7684\u56db\u4e2a\u5750\u6807\u70b9\u548c\u8be5\u533a\u57df\u7684\u540d\u79f0\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5e38\u89c1\u7684\u56fe\u50cf\u5904\u7406\u8f6f\u4ef6\u5982 GIMP \u6765\u8f85\u52a9\u83b7\u53d6\u5750\u6807\u70b9\u3002\u4ee5\u4e0b\u4e3a\u793a\u4f8b\u8bf4\u660e\uff1a \u5728\u56fe\u50cf\u5904\u7406\u8f6f\u4ef6\u4e2d\u5c06\u56fe\u7247\u5927\u5c0f\u7f29\u653e\u81f3100%\u3002 \u628a\u9f20\u6807\u79fb\u52a8\u5230\u56fe\u7247\u4e0a\uff0c\u83b7\u53d6\u6307\u5b9a\u4f4d\u7f6e\u5750\u6807\u70b9\u7684X\uff0cY\u503c\u3002\u6309\u7167 \u5de6\u4e0a\uff0c\u53f3\u4e0a\uff0c\u53f3\u4e0b\uff0c\u5de6\u4e0b \u987a\u5e8f\u5206\u522b\u8bb0\u5f55\u77e9\u5f62\u6846\u56db\u4e2a\u5750\u6807\u70b9\uff0c\u5e76\u6307\u5b9a\u8be5\u8bc6\u522b\u533a\u57df\u540d\u79f0\uff0c\u8bc6\u522b\u533a\u57df\u793a\u4f8b\u5982\u4e0b\uff1a [[[116, 335], [410, 335], [410, 374], [116, 374]], \"\u624b\u673a\u53f7\u7801\"] \u8bf7\u53c2\u8003\u589e\u52a0\u6a21\u677fAPI\u8bf7\u6c42Body\u793a\u4f8b\uff0c\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f\uff0c\u5e76\u5728\u521b\u5efa\u6210\u529f\u540e\u8bb0\u5f55\u7684\u6a21\u677fID\u3002 \u521b\u5efa\u597d\u6a21\u677f\u540e\uff0c\u9996\u5148\u7528\u539f\u56fe\u7247\u548c\u6a21\u677fID\u8fdb\u884c\u6587\u5b57\u8bc6\u522b\u6d4b\u8bd5\uff0c\u4ee5\u786e\u4fdd\u6a21\u677f\u80fd\u591f\u51c6\u786e\u8bc6\u522b\u5230\u6240\u9700\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u53d1\u73b0\u63d0\u53d6\u4fe1\u606f\u4e0d\u5b8c\u6574\u7684\u60c5\u51b5\uff0c\u8bf7\u786e\u8ba4\u5750\u6807\u70b9\u662f\u5426\u6807\u6ce8\u6b63\u786e\uff0c\u5e76\u9002\u5f53\u6269\u5927\u8bc6\u522b\u533a\u57df\u91cd\u65b0\u521b\u5efa\u6a21\u677f\u3002 \u8bf4\u660e \u77e9\u5f62\u6846\u533a\u57df\u5fc5\u987b\u5b8c\u5168\u8986\u76d6\u8981\u8bc6\u522b\u7684\u6587\u5b57\u5185\u5bb9\uff0c\u8bf7\u5728\u4e0d\u906e\u76d6\u5176\u4ed6\u8bc6\u522b\u77e9\u5f62\u533a\u57df\u7684\u524d\u63d0\u4e0b\uff0c\u5728\u8bc6\u522b\u533a\u57df\u56db\u8fb9\u7559\u51fa\u8db3\u591f\u7684\u5bb9\u9519\u7a7a\u95f4\uff0c\u4ece\u800c\u83b7\u5f97\u51c6\u786e\u7684\u8bc6\u522b\u80fd\u529b\u3002 \u4ee5\u4e0b\u4e3aAPI\u7684\u53c2\u6570\u8bf4\u660e\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e type String \u662f \u589e\u52a0\u6a21\u677f\u9700\u8981\u5c06 type \u6307\u5b9a\u4e3a add template List \u662f \u6bcf\u4e2a\u5143\u7d20\u4e3a\u4e00\u4e2a\u5f85\u63d0\u53d6\u533a\u57df\u5750\u6807\u53ca\u5176\u540d\u79f0\uff0c\u8bf7\u53c2\u8003 \u8bf7\u6c42 Body \u793a\u4f8b \u3002 \u8bf7\u6c42 Body \u793a\u4f8b { \"type\": \"add\", \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"template\": [ [ [[421, 465], [909, 471], [911, 503], [419, 495]], \"\u540d\u79f0\" ], [ [[419, 495], [911, 503], [909, 533], [415, 527]], \"\u8bc6\u522b\u53f7\" ], [ [[345, 339], [595, 343], [583, 397], [341, 385]], \"\u53d1\u7968\u53f7\" ] ] } { \"type\": \"add\", \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"template\": [ [ [[421, 465], [909, 471], [911, 503], [419, 495]], \"\u540d\u79f0\" ], [ [[419, 495], [911, 503], [909, 533], [415, 527]], \"\u8bc6\u522b\u53f7\" ], [ [[345, 339], [595, 343], [583, 397], [341, 385]], \"\u53d1\u7968\u53f7\" ] ] } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e template_id String \u6a21\u677f\u7684ID \u8fd4\u56de\u793a\u4f8b { \"template_id\": \"\u6a21\u677f\u7684ID\", }","title":"\u589e\u52a0\u6a21\u677f"},{"location":"deploy-custom-ocr/#_3","text":"\u5728\u521b\u5efa\u597d\u6a21\u677f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5bf9\u5e94\u7684\u6a21\u677f ID \u5bf9\u56fe\u7247\u8fdb\u884c\u6587\u5b57\u8bc6\u522b\uff0c\u8fd4\u56de\u503c\u4e3a\u6a21\u677f\u4e2d\u8bc6\u522b\u533a\u57df\u540d\u79f0\u4e0e\u6587\u672c\u5185\u5bb9\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e type String \u56fa\u5b9a\u4e3aquery template_id String \u5df2\u5b58\u5728\u7684\u6a21\u677fID \u8bf7\u6c42 Body \u793a\u4f8b { \"template_id\": \"\u5df2\u5b58\u5728\u7684\u6a21\u677fID\", \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e key String \u5b57\u6bb5\u540d value String \u63d0\u53d6\u5230\u7684\u503c score Float \u7f6e\u4fe1\u5ea6 \u8fd4\u56de\u793a\u4f8b [ { \"key\": \"\u540d\u79f0\", \"value\": \"\u4e9a\u9a6c\u900a\u901a\u6280\u672f\u670d\u52a1(\u5317\u4eac)\u6709\u9650\u516c\u53f8\", \"score\": 97.98 }, { \"key\": \"\u8bc6\u522b\u53f7\", \"value\": \"911101165900000000\", \"score\": 99.62 }, { \"key\": \"\u53d1\u7968\u53f7\", \"value\": \"4403212222\", \"score\": 96.58 } ]","title":"\u5185\u5bb9\u8bc6\u522b"},{"location":"deploy-custom-ocr/#_4","text":"\u5982\u679c\u9700\u8981\u5220\u9664\u6a21\u677f\uff0c\u53ef\u901a\u8fc7\u6307\u5b9a\u9700\u8981\u5220\u9664\u7684\u6a21\u677f ID \u8fdb\u884c\u5220\u9664\u3002\u8bf7\u6ce8\u610f\uff0c\u6a21\u677f\u88ab\u5220\u9664\u540e\u4e0d\u80fd\u6062\u590d\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e template_id List \u5df2\u5b58\u5728\u6a21\u677f\u7684id type String \u56fa\u5b9a\u4e3adel \u8bf7\u6c42 Body \u793a\u4f8b { \"type\": \"del\", \"template_id\": \"\u5df2\u5b58\u5728\u6a21\u677fID\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e template_id String \u5df2\u5220\u9664\u6a21\u677f\u7684ID \u8fd4\u56de\u793a\u4f8b { \"template_id\": \"\u5df2\u5220\u9664\u6a21\u677f\u7684ID\" }","title":"\u5220\u9664\u6a21\u677f"},{"location":"deploy-custom-ocr/#_5","text":"\u53ef\u4ee5\u628a\u5df2\u7ecf\u521b\u5efa\u7684\u6a21\u677f\u901a\u8fc7 ID \u5217\u8868\u7684\u65b9\u5f0f\u5217\u51fa\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e type String \u56fa\u5b9a\u4e3alist \u8bf7\u6c42 Body \u793a\u4f8b { \"type\": \"list\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e template_id_list List \u5df2\u5b58\u5728\u6a21\u677f\u7684\u5217\u8868 \u8fd4\u56de\u793a\u4f8b { \"template_id_list\": [\"\u5df2\u5b58\u5728\u6a21\u677f\u7684\u5217\u8868\"] }","title":"\u5217\u51fa\u6240\u6709\u6a21\u677f"},{"location":"deploy-custom-ocr/#_6","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-custom-ocr/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-custom-ocr/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 CustomOCR \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-custom-ocr/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-custom-ocr/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-custom-ocr/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-custom-ocr/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/custom_ocr\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-custom-ocr/#_7","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-custom-ocr/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-custom-ocr/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-custom-ocr/#_8","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 CustomOCR \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a20 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-face-comparison/","text":"\u901a\u8fc7\u4e24\u5f20\u4eba\u8138\u56fe\u7247\u4e2d\u7684\u7279\u5f81\u5411\u91cf\u8ba1\u7b97\u4f59\u5f26\u76f8\u4f3c\u5ea6\u4f5c\u4e3a\u7f6e\u4fe1\u5ea6\uff0c\u6839\u636e\u7f6e\u4fe1\u5ea6\u6bd4\u8f83\uff0c\u4ece\u800c\u5224\u65ad\u662f\u5426\u4e3a\u540c\u4e00\u4e2a\u4eba\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u5ba2\u6237\u8eab\u4efd\u9a8c\u8bc1\u3001\u7167\u7247\u5206\u7c7b\u7b49\u573a\u666f\uff0c\u4f8b\u5982\uff1a\u81ea\u52a9\u9152\u5e97\u5165\u4f4f\u3001\u4eba\u5458\u62a5\u5230\u3001\u6821\u56ed\u5165\u53e3\u901a\u884c\u3001\u76f8\u518c\u5236\u4f5c\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Faces List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u4eba\u8138\u5217\u8868 face_hash List \u4e00\u4e2a\u5177\u6709768\u4e2a\u5143\u7d20\u7684List\uff0c\u4e3a768\u7ef4\u7684\u4eba\u8138\u5411\u91cf BoundingBox JSON \u4eba\u8138\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 Confidence Float \u8bc6\u522b\u4eba\u8138\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c FaceModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Faces\": [ { \"BoundingBox\": { \"Width\": 0.057923507690429685, \"Height\": 0.10426715253778117, \"Left\": 0.5258836364746093, \"Top\": 0.40569204600369024 }, \"Confidence\": 0.8736226558685303, \"face_hash\": [64.8125, -86.8125, -9.84375, 12.390625, 161.625, ..., 4.8046875 ] }, { \"BoundingBox\": { \"Width\": 0.04332921028137207, \"Height\": 0.10577215250117152, \"Left\": 0.1566245174407959, \"Top\": 0.6526811308355788 }, \"Confidence\": 0.8055327534675598, \"face_hash\": [61.21875, -33.84375, -36.71875, 70.625, 110.125, ..., -28.421875 ] } ], \"FaceModelVersion\": \"1.2.0\" } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 FaceComparison \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/face_comparison\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 FaceComparison \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a6 \u5206\u949f","title":"\u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9"},{"location":"deploy-face-comparison/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u5ba2\u6237\u8eab\u4efd\u9a8c\u8bc1\u3001\u7167\u7247\u5206\u7c7b\u7b49\u573a\u666f\uff0c\u4f8b\u5982\uff1a\u81ea\u52a9\u9152\u5e97\u5165\u4f4f\u3001\u4eba\u5458\u62a5\u5230\u3001\u6821\u56ed\u5165\u53e3\u901a\u884c\u3001\u76f8\u518c\u5236\u4f5c\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-face-comparison/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Faces List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u4eba\u8138\u5217\u8868 face_hash List \u4e00\u4e2a\u5177\u6709768\u4e2a\u5143\u7d20\u7684List\uff0c\u4e3a768\u7ef4\u7684\u4eba\u8138\u5411\u91cf BoundingBox JSON \u4eba\u8138\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 Confidence Float \u8bc6\u522b\u4eba\u8138\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c FaceModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Faces\": [ { \"BoundingBox\": { \"Width\": 0.057923507690429685, \"Height\": 0.10426715253778117, \"Left\": 0.5258836364746093, \"Top\": 0.40569204600369024 }, \"Confidence\": 0.8736226558685303, \"face_hash\": [64.8125, -86.8125, -9.84375, 12.390625, 161.625, ..., 4.8046875 ] }, { \"BoundingBox\": { \"Width\": 0.04332921028137207, \"Height\": 0.10577215250117152, \"Left\": 0.1566245174407959, \"Top\": 0.6526811308355788 }, \"Confidence\": 0.8055327534675598, \"face_hash\": [61.21875, -33.84375, -36.71875, 70.625, 110.125, ..., -28.421875 ] } ], \"FaceModelVersion\": \"1.2.0\" }","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-face-comparison/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-face-comparison/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-face-comparison/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 FaceComparison \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-face-comparison/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-face-comparison/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-face-comparison/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_comparison\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-face-comparison/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/face_comparison\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-face-comparison/#_3","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-face-comparison/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-face-comparison/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-face-comparison/#_4","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 FaceComparison \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a6 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-face-detection/","text":"\u8bc6\u522b\u4eba\u8138\u9762\u90e8\u7279\u5f81\uff0c\u5c06\u68c0\u6d4b\u5230\u7684\u4e94\u5b98\u4e0e\u8f6e\u5ed3\u5173\u952e\u70b9\u4fe1\u606f\u6620\u5c04\u523064\u4e2a\u77e2\u91cf\u5750\u6807\u4e0a\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u6444\u50cf\u5934\u76d1\u63a7\u3001\u4eba\u8138\u7279\u5f81\u5206\u6790\u3001\u4e92\u52a8\u8425\u9500\u7b49\u591a\u79cd\u573a\u666f\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Faces List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u4eba\u8138\u5217\u8868 landmark_106 List 106\u4e2a\u5173\u952e\u70b9\u5750\u6807 x Int \u5173\u952e\u70b9\u8ddd\u5de6\u8fb9\u7f18\u7684\u50cf\u7d20\u6570 y Int \u5173\u952e\u70b9\u8ddd\u4e0a\u8fb9\u7f18\u7684\u50cf\u7d20\u6570 gender String \u6027\u522b age String \u5e74\u9f84 BoundingBox JSON \u4eba\u8138\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 Confidence Float \u8bc6\u522b\u4eba\u8138\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c FaceModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Faces\": [ { \"BoundingBox\": { \"Width\": 0.057923507690429685, \"Height\": 0.10426715253778117, \"Left\": 0.5258836364746093, \"Top\": 0.40569204600369024 }, \"Confidence\": 0.8736226558685303, \"landmark_106\": [ {\"x\": 894, \"y\": 542}, {\"x\": 846, \"y\": 461}, ... ], \"gender\": \"male\", \"age\": 27 }, { \"BoundingBox\": { \"Width\": 0.04332921028137207, \"Height\": 0.10577215250117152, \"Left\": 0.1566245174407959, \"Top\": 0.6526811308355788 }, \"Confidence\": 0.8055327534675598, \"landmark_106\": [ {\"x\": 306, \"y\": 802}, {\"x\": 254, \"y\": 734}, ... ], \"gender\": \"male\", \"age\": 35 } ], \"FaceModelVersion\": \"1.2.0\" } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 FaceDetection \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/face_detection\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u4eba\u8138\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 FaceDetection \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a6 \u5206\u949f","title":"\u4eba\u8138\u68c0\u6d4b"},{"location":"deploy-face-detection/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u6444\u50cf\u5934\u76d1\u63a7\u3001\u4eba\u8138\u7279\u5f81\u5206\u6790\u3001\u4e92\u52a8\u8425\u9500\u7b49\u591a\u79cd\u573a\u666f\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-face-detection/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Faces List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u4eba\u8138\u5217\u8868 landmark_106 List 106\u4e2a\u5173\u952e\u70b9\u5750\u6807 x Int \u5173\u952e\u70b9\u8ddd\u5de6\u8fb9\u7f18\u7684\u50cf\u7d20\u6570 y Int \u5173\u952e\u70b9\u8ddd\u4e0a\u8fb9\u7f18\u7684\u50cf\u7d20\u6570 gender String \u6027\u522b age String \u5e74\u9f84 BoundingBox JSON \u4eba\u8138\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 Confidence Float \u8bc6\u522b\u4eba\u8138\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c FaceModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Faces\": [ { \"BoundingBox\": { \"Width\": 0.057923507690429685, \"Height\": 0.10426715253778117, \"Left\": 0.5258836364746093, \"Top\": 0.40569204600369024 }, \"Confidence\": 0.8736226558685303, \"landmark_106\": [ {\"x\": 894, \"y\": 542}, {\"x\": 846, \"y\": 461}, ... ], \"gender\": \"male\", \"age\": 27 }, { \"BoundingBox\": { \"Width\": 0.04332921028137207, \"Height\": 0.10577215250117152, \"Left\": 0.1566245174407959, \"Top\": 0.6526811308355788 }, \"Confidence\": 0.8055327534675598, \"landmark_106\": [ {\"x\": 306, \"y\": 802}, {\"x\": 254, \"y\": 734}, ... ], \"gender\": \"male\", \"age\": 35 } ], \"FaceModelVersion\": \"1.2.0\" }","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-face-detection/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-face-detection/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-face-detection/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 FaceDetection \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-face-detection/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-face-detection/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-face-detection/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/face_detection\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-face-detection/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/face_detection\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-face-detection/#_3","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-face-detection/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-face-detection/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-face-detection/#_4","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u4eba\u8138\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 FaceDetection \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a6 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-general-ocr-traditional/","text":"\u901a\u7528\u573a\u666f\u6587\u5b57\u63d0\u53d6\uff0c\u901a\u8fc7\u8fd4\u56de\u56fe\u7247\u4e2d\u6587\u5b57\u5185\u5bb9\u4e0e\u5750\u6807\u4f4d\u7f6e\u7b49\u4fe1\u606f\uff0c\u4fbf\u4e8e\u5ba2\u6237\u8fdb\u884c\u6bd4\u5bf9\u6216\u7ed3\u6784\u5316\u64cd\u4f5c\u3002\u652f\u6301\u8bc6\u522b \u7e41\u4f53\u4e2d\u6587 \u3001\u82f1\u6587\u3001\u6570\u5b57\u548c\u5e38\u7528\u7b26\u53f7\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u7eb8\u8d28\u6587\u6863\u7535\u5b50\u5316\uff0c\u8bc1\u4ef6\u8bc6\u522b\uff0c\u5185\u5bb9\u5ba1\u6838\u7b49\u591a\u79cd\u573a\u666f\uff0c\u5927\u5e45\u63d0\u9ad8\u4fe1\u606f\u5904\u7406\u6548\u7387\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e words String \u8bc6\u522b\u6587\u672c\u5b57\u7b26\u4e32\u5185\u5bb9 location JSON \u8bc6\u522b\u6587\u672c\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542b top\uff0cleft\uff0cwidth\uff0cheight\u7684\u6574\u6570\u503c score Float \u8bc6\u522b\u6587\u672c\u7684\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185 Float \u578b\u6570\u503c \u8fd4\u56de\u793a\u4f8b [ { \"words\": \"\u9999\u6e2f\u6c38\u4e45\u6027\u5c45\u6c11\u8eab\u4efd\u8b49\", \"location\": { \"top\": 18, \"left\": 148, \"width\": 169, \"height\": 17 }, \"score\": 0.9923796653747559 }, { \"words\": \"HONG KONG PERMANENTIDENTITYCARD\", \"location\": { \"top\": 36, \"left\": 71, \"width\": 321, \"height\": 17 }, \"score\": 0.9825196266174316 } ] \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 GeneralOCRTraditional \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/general_ocr_traditional\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 GeneralOCRTraditional \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09"},{"location":"deploy-general-ocr-traditional/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u7eb8\u8d28\u6587\u6863\u7535\u5b50\u5316\uff0c\u8bc1\u4ef6\u8bc6\u522b\uff0c\u5185\u5bb9\u5ba1\u6838\u7b49\u591a\u79cd\u573a\u666f\uff0c\u5927\u5e45\u63d0\u9ad8\u4fe1\u606f\u5904\u7406\u6548\u7387\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-general-ocr-traditional/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e words String \u8bc6\u522b\u6587\u672c\u5b57\u7b26\u4e32\u5185\u5bb9 location JSON \u8bc6\u522b\u6587\u672c\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542b top\uff0cleft\uff0cwidth\uff0cheight\u7684\u6574\u6570\u503c score Float \u8bc6\u522b\u6587\u672c\u7684\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185 Float \u578b\u6570\u503c \u8fd4\u56de\u793a\u4f8b [ { \"words\": \"\u9999\u6e2f\u6c38\u4e45\u6027\u5c45\u6c11\u8eab\u4efd\u8b49\", \"location\": { \"top\": 18, \"left\": 148, \"width\": 169, \"height\": 17 }, \"score\": 0.9923796653747559 }, { \"words\": \"HONG KONG PERMANENTIDENTITYCARD\", \"location\": { \"top\": 36, \"left\": 71, \"width\": 321, \"height\": 17 }, \"score\": 0.9825196266174316 } ]","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-general-ocr-traditional/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-general-ocr-traditional/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-general-ocr-traditional/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 GeneralOCRTraditional \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-general-ocr-traditional/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-general-ocr-traditional/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-general-ocr-traditional/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr_traditional\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-general-ocr-traditional/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/general_ocr_traditional\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-general-ocr-traditional/#_3","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-general-ocr-traditional/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-general-ocr-traditional/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-general-ocr-traditional/#_4","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 GeneralOCRTraditional \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-general-ocr/","text":"\u901a\u7528\u573a\u666f\u6587\u5b57\u63d0\u53d6\uff0c\u901a\u8fc7\u8fd4\u56de\u5728\u56fe\u7247\u4e2d\u6587\u5b57\u5185\u5bb9\u4e0e\u5750\u6807\u4f4d\u7f6e\u7b49\u4fe1\u606f\uff0c\u4fbf\u4e8e\u5ba2\u6237\u8fdb\u884c\u6bd4\u5bf9\u6216\u7ed3\u6784\u5316\u64cd\u4f5c\u3002\u652f\u6301\u8bc6\u522b \u7b80\u4f53\u4e2d\u6587 \u3001\u82f1\u6587\u3001\u6570\u5b57\u548c\u5e38\u7528\u7b26\u53f7\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u7eb8\u8d28\u6587\u6863\u7535\u5b50\u5316\uff0c\u8bc1\u4ef6\u8bc6\u522b\uff0c\u5185\u5bb9\u5ba1\u6838\u7b49\u591a\u79cd\u573a\u666f\uff0c\u5927\u5e45\u63d0\u9ad8\u4fe1\u606f\u5904\u7406\u6548\u7387\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00\u3002 \u56fe\u50cfURL\u5730\u5740\u3002\u652f\u6301HTTP/HTTPS\u548cS3\u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp\uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00\u3002 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\u3002 \u8bf7\u6c42\u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e words String \u8bc6\u522b\u6587\u672c\u5b57\u7b26\u4e32\u5185\u5bb9\u3002 location JSON \u8bc6\u522b\u6587\u672c\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542b top\uff0cleft\uff0cwidth\uff0cheight\u7684\u6574\u6570\u503c\u3002 score Float \u8bc6\u522b\u6587\u672c\u7684\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c\u3002 \u8fd4\u56de\u793a\u4f8b [ { \"words\": \"\u9999\u6e2f\u6c38\u4e45\u6027\u5c45\u6c11\u8eab\u4efd\u8b49\", \"location\": { \"top\": 18, \"left\": 148, \"width\": 169, \"height\": 17 }, \"score\": 0.9923796653747559 }, { \"words\": \"HONG KONG PERMANENTIDENTITYCARD\", \"location\": { \"top\": 36, \"left\": 71, \"width\": 321, \"height\": 17 }, \"score\": 0.9825196266174316 } ] \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 GeneralOCR \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/general_ocr\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u901a\u7528\u6587\u5b57\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 GeneralOCR \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09"},{"location":"deploy-general-ocr/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u7eb8\u8d28\u6587\u6863\u7535\u5b50\u5316\uff0c\u8bc1\u4ef6\u8bc6\u522b\uff0c\u5185\u5bb9\u5ba1\u6838\u7b49\u591a\u79cd\u573a\u666f\uff0c\u5927\u5e45\u63d0\u9ad8\u4fe1\u606f\u5904\u7406\u6548\u7387\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-general-ocr/#api","text":"HTTP \u65b9\u6cd5: POST \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00\u3002 \u56fe\u50cfURL\u5730\u5740\u3002\u652f\u6301HTTP/HTTPS\u548cS3\u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp\uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00\u3002 \u8fdb\u884cBase64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\u3002 \u8bf7\u6c42\u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e words String \u8bc6\u522b\u6587\u672c\u5b57\u7b26\u4e32\u5185\u5bb9\u3002 location JSON \u8bc6\u522b\u6587\u672c\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542b top\uff0cleft\uff0cwidth\uff0cheight\u7684\u6574\u6570\u503c\u3002 score Float \u8bc6\u522b\u6587\u672c\u7684\u7f6e\u4fe1\u5ea6\u503c\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c\u3002 \u8fd4\u56de\u793a\u4f8b [ { \"words\": \"\u9999\u6e2f\u6c38\u4e45\u6027\u5c45\u6c11\u8eab\u4efd\u8b49\", \"location\": { \"top\": 18, \"left\": 148, \"width\": 169, \"height\": 17 }, \"score\": 0.9923796653747559 }, { \"words\": \"HONG KONG PERMANENTIDENTITYCARD\", \"location\": { \"top\": 36, \"left\": 71, \"width\": 321, \"height\": 17 }, \"score\": 0.9825196266174316 } ]","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-general-ocr/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-general-ocr/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-general-ocr/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 GeneralOCR \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-general-ocr/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-general-ocr/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-general-ocr/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/general_ocr\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-general-ocr/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/general_ocr\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-general-ocr/#_3","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-general-ocr/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-general-ocr/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-general-ocr/#_4","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u901a\u7528\u6587\u5b57\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 GeneralOCR \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-human-attribute-recognition/","text":"\u8bc6\u522b\u8f93\u5165\u56fe\u7247\u4e2d\u7684\u4eba\u4f53\u533a\u57df\uff0c\u5e76\u8fd4\u56de\u6bcf\u4e2a\u533a\u57df\u4eba\u4f53\u4f4d\u7f6e\u5750\u6807\u53ca\u5c5e\u6027\u5206\u6790\uff0c\u5982\u6027\u522b\u3001\u5e74\u9f84\u3001\u670d\u9970\u7b4916\u79cd\u5c5e\u6027\u7684\u8bed\u4e49\u4fe1\u606f\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u667a\u6167\u5b89\u9632\u3001\u667a\u6167\u96f6\u552e\u3001\u884c\u4eba\u641c\u7d22\u7b49\u573a\u666f\u3002 \u5c5e\u6027\u8bf4\u660e \u540d\u79f0 \u8bed\u4e49\u503c \u4e0a\u8eab\u670d\u9970 \u77ed\u8896\u3001\u957f\u8896 \u4e0b\u8eab\u670d\u9970 \u77ed\u88e4/\u88d9\u3001\u957f\u88e4/\u88d9 \u4e0a\u8eab\u670d\u9970\u7eb9\u7406 \u56fe\u6848\u3001\u7eaf\u8272\u3001\u683c\u5b50/\u6761\u7eb9 \u80cc\u5305 \u65e0\u5305\u3001\u6709\u5305 \u662f\u5426\u6234\u773c\u955c \u65e0\u3001\u6709 \u662f\u5426\u6234\u5e3d\u5b50 \u65e0\u3001\u6709 \u4eba\u4f53\u671d\u5411 \u6b63\u9762\u3001\u80cc\u9762\u3001\u5de6\u9762\u3001\u53f3\u9762 \u4e0a\u65b9\u622a\u65ad \u65e0\u3001\u6709 \u4e0b\u65b9\u622a\u65ad \u65e0\u3001\u6709 \u906e\u6321\u60c5\u51b5 \u65e0\u3001\u8f7b\u3001\u91cd \u662f\u5426\u6234\u53e3\u7f69 \u65e0\u3001\u6709 \u6027\u522b \u7537\u3001\u5973 \u5e74\u9f84 \u5e7c\u513f\u3001\u9752\u5c11\u5e74\u3001\u4e2d\u5e74\u3001\u8001\u5e74 \u5438\u70df \u65e0\u3001\u6709 \u7535\u8bdd \u65e0\u3001\u6709 \u62ff\u4e1c\u897f \u65e0\u3001\u6709 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Labels List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u4eba\u4f53\u5217\u8868 upper_wear Dict \u77ed\u8896\u3001\u957f\u8896 upper_wear_texture Dict \u56fe\u6848\u3001\u7eaf\u8272\u3001\u6761\u7eb9/\u683c\u5b50 lower_wear Dict \u77ed\u88e4/\u88d9\u3001\u957f\u88e4/\u88d9 glasses Dict \u6709\u773c\u955c\u3001\u65e0\u773c\u955c bag Dict \u6709\u80cc\u5305\u3001\u65e0\u80cc\u5305 headwear Dict \u6709\u5e3d\u3001\u65e0\u5e3d orientation Dict \u5de6\u4fa7\u9762\u3001\u80cc\u9762\u3001\u6b63\u9762\u3001\u53f3\u4fa7\u9762 upper_cut Dict \u6709\u622a\u65ad\u3001\u65e0\u622a\u65ad lower_cut Dict \u6709\u622a\u65ad\u3001\u65e0\u622a\u65ad occlusion Dict \u65e0\u906e\u6321\u3001\u8f7b\u5ea6\u906e\u6321\u3001\u91cd\u5ea6\u906e\u6321 face_mask Dict \u6234\u53e3\u7f69\u3001\u65e0\u53e3\u7f69 gender Dict \u7537\u6027\u3001\u5973\u6027 age Dict \u5e7c\u513f\u3001\u9752\u5c11\u5e74\u3001\u4e2d\u5e74\u3001\u8001\u5e74 smoke Dict \u5438\u70df\u3001\u672a\u5438\u70df cellphone Dict \u4f7f\u7528\u624b\u673a\u3001\u672a\u4f7f\u7528\u624b\u673a carrying_item Dict \u6709\u624b\u63d0\u7269\u3001\u65e0\u624b\u63d0\u7269 BoundingBox Dict \u4eba\u4f53\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 LabelModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Labels\": [ { \"upper_wear\": { \"\u77ed\u8896\": 0.01, \"\u957f\u8896\": 99.99 }, \"upper_wear_texture\": { \"\u56fe\u6848\": 0, \"\u7eaf\u8272\": 99.55, \"\u6761\u7eb9/\u683c\u5b50\": 0.45 }, \"lower_wear\": { \"\u77ed\u88e4/\u88d9\": 0.15, \"\u957f\u88e4/\u88d9\": 99.85 }, \"glasses\": { \"\u6709\u773c\u955c\": 57.74, \"\u65e0\u773c\u955c\": 42.26 }, \"bag\": { \"\u6709\u80cc\u5305\": 0.69, \"\u65e0\u80cc\u5305\": 99.31 }, \"headwear\": { \"\u6709\u5e3d\": 97.02, \"\u65e0\u5e3d\": 2.98 }, \"orientation\": { \"\u5de6\u4fa7\u9762\": 99.99, \"\u80cc\u9762\": 0, \"\u6b63\u9762\": 0, \"\u53f3\u4fa7\u9762\": 0.01 }, \"upper_cut\": { \"\u6709\u622a\u65ad\": 0, \"\u65e0\u622a\u65ad\": 100 }, \"lower_cut\": { \"\u65e0\u622a\u65ad\": 0.18, \"\u6709\u622a\u65ad\": 99.82 }, \"occlusion\": { \"\u65e0\u906e\u6321\": 100, \"\u91cd\u5ea6\u906e\u6321\": 0, \"\u8f7b\u5ea6\u906e\u6321\": 0 }, \"face_mask\": { \"\u65e0\u53e3\u7f69\": 100, \"\u6234\u53e3\u7f69\": 0 }, \"gender\": { \"\u7537\u6027\": 100, \"\u5973\u6027\": 0 }, \"age\": { \"\u5e7c\u513f\": 0, \"\u9752\u5c11\u5e74\": 100, \"\u4e2d\u5e74\": 0, \"\u8001\u5e74\": 0 }, \"smoke\": { \"\u5438\u70df\": 0, \"\u672a\u5438\u70df\": 100 }, \"cellphone\": { \"\u4f7f\u7528\u624b\u673a\": 0, \"\u672a\u4f7f\u7528\u624b\u673a\": 100 }, \"carrying_item\": { \"\u6709\u624b\u63d0\u7269\": 0.03, \"\u65e0\u624b\u63d0\u7269\": 99.97 }, \"BoundingBox\": { \"Width\": 0.11781848725818456, \"Height\": 0.43450208474661556, \"Left\": 0.5310931977771577, \"Top\": 0.45263674786982644 } }, ... ], \"LabelModelVersion\": \"1.2.0\" } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 HumanAttributeRecognition \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/custom_ocr\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 HumanAttributeRecognition \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027"},{"location":"deploy-human-attribute-recognition/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u667a\u6167\u5b89\u9632\u3001\u667a\u6167\u96f6\u552e\u3001\u884c\u4eba\u641c\u7d22\u7b49\u573a\u666f\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-human-attribute-recognition/#_2","text":"\u540d\u79f0 \u8bed\u4e49\u503c \u4e0a\u8eab\u670d\u9970 \u77ed\u8896\u3001\u957f\u8896 \u4e0b\u8eab\u670d\u9970 \u77ed\u88e4/\u88d9\u3001\u957f\u88e4/\u88d9 \u4e0a\u8eab\u670d\u9970\u7eb9\u7406 \u56fe\u6848\u3001\u7eaf\u8272\u3001\u683c\u5b50/\u6761\u7eb9 \u80cc\u5305 \u65e0\u5305\u3001\u6709\u5305 \u662f\u5426\u6234\u773c\u955c \u65e0\u3001\u6709 \u662f\u5426\u6234\u5e3d\u5b50 \u65e0\u3001\u6709 \u4eba\u4f53\u671d\u5411 \u6b63\u9762\u3001\u80cc\u9762\u3001\u5de6\u9762\u3001\u53f3\u9762 \u4e0a\u65b9\u622a\u65ad \u65e0\u3001\u6709 \u4e0b\u65b9\u622a\u65ad \u65e0\u3001\u6709 \u906e\u6321\u60c5\u51b5 \u65e0\u3001\u8f7b\u3001\u91cd \u662f\u5426\u6234\u53e3\u7f69 \u65e0\u3001\u6709 \u6027\u522b \u7537\u3001\u5973 \u5e74\u9f84 \u5e7c\u513f\u3001\u9752\u5c11\u5e74\u3001\u4e2d\u5e74\u3001\u8001\u5e74 \u5438\u70df \u65e0\u3001\u6709 \u7535\u8bdd \u65e0\u3001\u6709 \u62ff\u4e1c\u897f \u65e0\u3001\u6709","title":"\u5c5e\u6027\u8bf4\u660e"},{"location":"deploy-human-attribute-recognition/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Labels List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u4eba\u4f53\u5217\u8868 upper_wear Dict \u77ed\u8896\u3001\u957f\u8896 upper_wear_texture Dict \u56fe\u6848\u3001\u7eaf\u8272\u3001\u6761\u7eb9/\u683c\u5b50 lower_wear Dict \u77ed\u88e4/\u88d9\u3001\u957f\u88e4/\u88d9 glasses Dict \u6709\u773c\u955c\u3001\u65e0\u773c\u955c bag Dict \u6709\u80cc\u5305\u3001\u65e0\u80cc\u5305 headwear Dict \u6709\u5e3d\u3001\u65e0\u5e3d orientation Dict \u5de6\u4fa7\u9762\u3001\u80cc\u9762\u3001\u6b63\u9762\u3001\u53f3\u4fa7\u9762 upper_cut Dict \u6709\u622a\u65ad\u3001\u65e0\u622a\u65ad lower_cut Dict \u6709\u622a\u65ad\u3001\u65e0\u622a\u65ad occlusion Dict \u65e0\u906e\u6321\u3001\u8f7b\u5ea6\u906e\u6321\u3001\u91cd\u5ea6\u906e\u6321 face_mask Dict \u6234\u53e3\u7f69\u3001\u65e0\u53e3\u7f69 gender Dict \u7537\u6027\u3001\u5973\u6027 age Dict \u5e7c\u513f\u3001\u9752\u5c11\u5e74\u3001\u4e2d\u5e74\u3001\u8001\u5e74 smoke Dict \u5438\u70df\u3001\u672a\u5438\u70df cellphone Dict \u4f7f\u7528\u624b\u673a\u3001\u672a\u4f7f\u7528\u624b\u673a carrying_item Dict \u6709\u624b\u63d0\u7269\u3001\u65e0\u624b\u63d0\u7269 BoundingBox Dict \u4eba\u4f53\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 LabelModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Labels\": [ { \"upper_wear\": { \"\u77ed\u8896\": 0.01, \"\u957f\u8896\": 99.99 }, \"upper_wear_texture\": { \"\u56fe\u6848\": 0, \"\u7eaf\u8272\": 99.55, \"\u6761\u7eb9/\u683c\u5b50\": 0.45 }, \"lower_wear\": { \"\u77ed\u88e4/\u88d9\": 0.15, \"\u957f\u88e4/\u88d9\": 99.85 }, \"glasses\": { \"\u6709\u773c\u955c\": 57.74, \"\u65e0\u773c\u955c\": 42.26 }, \"bag\": { \"\u6709\u80cc\u5305\": 0.69, \"\u65e0\u80cc\u5305\": 99.31 }, \"headwear\": { \"\u6709\u5e3d\": 97.02, \"\u65e0\u5e3d\": 2.98 }, \"orientation\": { \"\u5de6\u4fa7\u9762\": 99.99, \"\u80cc\u9762\": 0, \"\u6b63\u9762\": 0, \"\u53f3\u4fa7\u9762\": 0.01 }, \"upper_cut\": { \"\u6709\u622a\u65ad\": 0, \"\u65e0\u622a\u65ad\": 100 }, \"lower_cut\": { \"\u65e0\u622a\u65ad\": 0.18, \"\u6709\u622a\u65ad\": 99.82 }, \"occlusion\": { \"\u65e0\u906e\u6321\": 100, \"\u91cd\u5ea6\u906e\u6321\": 0, \"\u8f7b\u5ea6\u906e\u6321\": 0 }, \"face_mask\": { \"\u65e0\u53e3\u7f69\": 100, \"\u6234\u53e3\u7f69\": 0 }, \"gender\": { \"\u7537\u6027\": 100, \"\u5973\u6027\": 0 }, \"age\": { \"\u5e7c\u513f\": 0, \"\u9752\u5c11\u5e74\": 100, \"\u4e2d\u5e74\": 0, \"\u8001\u5e74\": 0 }, \"smoke\": { \"\u5438\u70df\": 0, \"\u672a\u5438\u70df\": 100 }, \"cellphone\": { \"\u4f7f\u7528\u624b\u673a\": 0, \"\u672a\u4f7f\u7528\u624b\u673a\": 100 }, \"carrying_item\": { \"\u6709\u624b\u63d0\u7269\": 0.03, \"\u65e0\u624b\u63d0\u7269\": 99.97 }, \"BoundingBox\": { \"Width\": 0.11781848725818456, \"Height\": 0.43450208474661556, \"Left\": 0.5310931977771577, \"Top\": 0.45263674786982644 } }, ... ], \"LabelModelVersion\": \"1.2.0\" }","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-human-attribute-recognition/#_3","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-human-attribute-recognition/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-human-attribute-recognition/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 HumanAttributeRecognition \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-human-attribute-recognition/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-human-attribute-recognition/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-human-attribute-recognition/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/custom_ocr\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-human-attribute-recognition/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/custom_ocr\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-human-attribute-recognition/#_4","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-human-attribute-recognition/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-human-attribute-recognition/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-human-attribute-recognition/#_5","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 HumanAttributeRecognition \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-human-image-segmentation/","text":"\u57fa\u4e8eAI\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u8bc6\u522b\u56fe\u50cf\u4e2d\u7684\u4eba\u4f53\u8f6e\u5ed3\uff0c\u5b9e\u73b0\u9ad8\u7cbe\u5ea6\u5206\u5272\uff0c\u4f7f\u4e4b\u4e0e\u80cc\u666f\u8fdb\u884c\u5206\u79bb\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u7167\u7247\u80cc\u666f\u66ff\u6362\u3001\u540e\u671f\u5904\u7406\u3001\u8bc1\u4ef6\u7167\u5236\u4f5c\uff0c\u4eba\u50cf\u62a0\u56fe\u7f8e\u5316\u3001\u80cc\u666f\u865a\u5316\u7b49\u591a\u79cd\u573a\u666f\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e type String \u5426 \u5f53type\u4e3a\"foreground\"\u65f6\uff0c\u5c06\u8fd4\u56dePNG\u683c\u5f0f\u900f\u660e\u80cc\u666f\u56fe\u50cfBase64\u7f16\u7801\uff0ctype\u9ed8\u8ba4\u7a7a\uff0c\u5c06\u8fd4\u56de\u53bb\u9664\u80cc\u666f\u540e\u7684\u56fe\u50cfAlpha\u901a\u9053Base64\u7f16\u7801 \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"type\": \"foreground\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"type\": \"foreground\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result String Base64\u7f16\u7801\u56fe\u50cf\u6570\u636e \u8fd4\u56de\u793a\u4f8b { \"result\": \"Base64\u7f16\u7801\u56fe\u50cf\u6570\u636e\" } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 HumanImageSegmentation \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/human_image_segmentation\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 HumanImageSegmentation \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a9 \u5206\u949f","title":"\u667a\u80fd\u4eba\u50cf\u5206\u5272"},{"location":"deploy-human-image-segmentation/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u7167\u7247\u80cc\u666f\u66ff\u6362\u3001\u540e\u671f\u5904\u7406\u3001\u8bc1\u4ef6\u7167\u5236\u4f5c\uff0c\u4eba\u50cf\u62a0\u56fe\u7f8e\u5316\u3001\u80cc\u666f\u865a\u5316\u7b49\u591a\u79cd\u573a\u666f\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-human-image-segmentation/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e type String \u5426 \u5f53type\u4e3a\"foreground\"\u65f6\uff0c\u5c06\u8fd4\u56dePNG\u683c\u5f0f\u900f\u660e\u80cc\u666f\u56fe\u50cfBase64\u7f16\u7801\uff0ctype\u9ed8\u8ba4\u7a7a\uff0c\u5c06\u8fd4\u56de\u53bb\u9664\u80cc\u666f\u540e\u7684\u56fe\u50cfAlpha\u901a\u9053Base64\u7f16\u7801 \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"type\": \"foreground\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"type\": \"foreground\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result String Base64\u7f16\u7801\u56fe\u50cf\u6570\u636e \u8fd4\u56de\u793a\u4f8b { \"result\": \"Base64\u7f16\u7801\u56fe\u50cf\u6570\u636e\" }","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-human-image-segmentation/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-human-image-segmentation/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-human-image-segmentation/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 HumanImageSegmentation \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-human-image-segmentation/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-human-image-segmentation/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-human-image-segmentation/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/human_image_segmentation\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-human-image-segmentation/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/human_image_segmentation\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-human-image-segmentation/#_3","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-human-image-segmentation/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-human-image-segmentation/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-human-image-segmentation/#_4","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 HumanImageSegmentation \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a9 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-image-similarity/","text":"\u6bd4\u8f83\u4e24\u5e45\u56fe\u7247\u662f\u5426\u76f8\u4f3c\uff0c\u901a\u8fc7\u56fe\u7247\u7279\u5f81\u5411\u91cf\u8ba1\u7b97\u4f59\u5f26\u8ddd\u79bb\uff0c\u5e76\u8f6c\u5316\u4e3a\u7f6e\u4fe1\u5ea6\uff0c\u6839\u636e\u7f6e\u4fe1\u5ea6\u6bd4\u8f83\u4e24\u5f20\u56fe\u7247\u7684\u76f8\u4f3c\u6027\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u5546\u54c1\u8bc6\u522b\uff0c\u7ffb\u62cd\u8bc6\u522b\uff0c\u667a\u80fd\u76f8\u518c\u7b49\u573a\u666f\u3002 API\u53c2\u6570\u8bf4\u660e \u8be5API\u652f\u6301\u5355\u56fe\u7247\u3001\u56fe\u7247\u5bf9\u4e24\u79cd\u8f93\u5165\u6a21\u5f0f\u3002 \u5355\u5f20\u56fe\u7247\u6a21\u5f0f \u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u5355\u5f20\u56fe\u7247\uff0c\u8fd4\u56de\u56fe\u7247\u7684\u7279\u5f81\u5411\u91cf\u3002\u9700\u81ea\u884c\u7ef4\u62a4\u4e00\u4e2a\u5411\u91cf\u68c0\u7d22\u7cfb\u7edf\u3002\u9002\u5408\u641c\u7d22\u3001\u53ec\u56de\u7b49\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result List \u4e00\u4e2a\u5177\u6709512\u4e2a\u5143\u7d20\u7684List\uff0c\u4e3a512\u7ef4\u7684\u56fe\u50cf\u5411\u91cf \u8fd4\u56de\u793a\u4f8b { \"result\": [ -0.02555299922823906, 0.012955999933183193, -0.10079500079154968, ... ] } \u4e24\u5f20\u56fe\u7247\u6a21\u5f0f \u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u4e24\u5f20\u56fe\u7247\uff0c\u8fd4\u56de\u4e24\u5f20\u56fe\u7247\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\u9002\u5408\u76f8\u4f3c\u5ea6\u6bd4\u8f83\u7684\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url_1 String \u4e0e img_1 \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img_1 String \u4e0e url_1 \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e url_2 String \u4e0e img_2 \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img_2 String \u4e0e url_2 \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url_1\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"url_2\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img_1\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"img_2\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e similarity Float \u4e24\u5f20\u56fe\u7247\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c\u3002\u8d8a\u63a5\u8fd1\u4e8e1\uff0c\u4ee3\u8868\u56fe\u7247\u8d8a\u76f8\u4f3c\u3002 \u8fd4\u56de\u793a\u4f8b { \"similarity\": 0.95421 } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 Image Similarity \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/text_similarity\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u56fe\u50cf\u76f8\u4f3c\u5ea6 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 Image Similarity \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u56fe\u50cf\u76f8\u4f3c\u5ea6"},{"location":"deploy-image-similarity/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u5546\u54c1\u8bc6\u522b\uff0c\u7ffb\u62cd\u8bc6\u522b\uff0c\u667a\u80fd\u76f8\u518c\u7b49\u573a\u666f\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-image-similarity/#api","text":"\u8be5API\u652f\u6301\u5355\u56fe\u7247\u3001\u56fe\u7247\u5bf9\u4e24\u79cd\u8f93\u5165\u6a21\u5f0f\u3002","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-image-similarity/#_2","text":"\u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u5355\u5f20\u56fe\u7247\uff0c\u8fd4\u56de\u56fe\u7247\u7684\u7279\u5f81\u5411\u91cf\u3002\u9700\u81ea\u884c\u7ef4\u62a4\u4e00\u4e2a\u5411\u91cf\u68c0\u7d22\u7cfb\u7edf\u3002\u9002\u5408\u641c\u7d22\u3001\u53ec\u56de\u7b49\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result List \u4e00\u4e2a\u5177\u6709512\u4e2a\u5143\u7d20\u7684List\uff0c\u4e3a512\u7ef4\u7684\u56fe\u50cf\u5411\u91cf \u8fd4\u56de\u793a\u4f8b { \"result\": [ -0.02555299922823906, 0.012955999933183193, -0.10079500079154968, ... ] }","title":"\u5355\u5f20\u56fe\u7247\u6a21\u5f0f"},{"location":"deploy-image-similarity/#_3","text":"\u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u4e24\u5f20\u56fe\u7247\uff0c\u8fd4\u56de\u4e24\u5f20\u56fe\u7247\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\u9002\u5408\u76f8\u4f3c\u5ea6\u6bd4\u8f83\u7684\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url_1 String \u4e0e img_1 \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img_1 String \u4e0e url_1 \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e url_2 String \u4e0e img_2 \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img_2 String \u4e0e url_2 \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url_1\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"url_2\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img_1\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"img_2\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e similarity Float \u4e24\u5f20\u56fe\u7247\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c\u3002\u8d8a\u63a5\u8fd1\u4e8e1\uff0c\u4ee3\u8868\u56fe\u7247\u8d8a\u76f8\u4f3c\u3002 \u8fd4\u56de\u793a\u4f8b { \"similarity\": 0.95421 }","title":"\u4e24\u5f20\u56fe\u7247\u6a21\u5f0f"},{"location":"deploy-image-similarity/#_4","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-image-similarity/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-image-similarity/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 Image Similarity \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-image-similarity/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-image-similarity/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-image-similarity/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-image-similarity/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/text_similarity\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-image-similarity/#_5","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-image-similarity/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-image-similarity/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-image-similarity/#_6","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u56fe\u50cf\u76f8\u4f3c\u5ea6 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 Image Similarity \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-image-super-resolution/","text":"\u53ef\u5c06\u56fe\u7247\u667a\u80fd\u653e\u59272\u62164\u500d\uff0c\u4ece\u800c\u83b7\u53d6\u6e05\u6670\u5ea6\u66f4\u9ad8\u3001\u7ec6\u8282\u4e30\u5bcc\u7684\u56fe\u50cf\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u7b49\u591a\u79cd\u573a\u666f\uff0c\u89e3\u51b3\u539f\u59cb\u56fe\u7247\u5206\u8fa8\u7387\u4e0d\u8db3\u7684\u95ee\u9898\u3002 \u914d\u989d\u8bf4\u660e \u56fe\u50cf\u8d85\u5206\u8fa8\u7387API\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u57fa\u4e8e Amazon SageMaker \u7684GPU\u7c7b\u578b\u5b9e\u4f8b\u3002\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2d\u5bf9\u5e94\u5b9e\u4f8b\u9650\u5236\u4e0d\u8db3\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u529f\u80fd\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Amazon SageMaker \u670d\u52a1\u7684\u5b9e\u4f8b\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605 \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d \u3002 \u65b9\u6848\u4e2d\u9ed8\u8ba4\u7684 AWS Lambda \u5185\u5b58\u7ea6\u4e3a4GB\uff084096 MB\uff09\uff0c\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2dAWS Lambda\u51fd\u6570\u9650\u5236\u4f4e\u4e8e4096 MB\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Lambda \u670d\u52a1\u7684\u5185\u5b58\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605 \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u56fe\u50cf\u5927\u5c0f\u5efa\u8bae\u4e0d\u8d85\u8fc71920 * 1080\uff0c\u5728\u5f00\u542f\u4eba\u50cf\u589e\u5f3a\u7684\u60c5\u51b5\u4e0b\uff0c\u56fe\u50cf\u5927\u5c0f\u5efa\u8bae\u4e0d\u8d85\u8fc71280 * 720\u3002AWS Lambda\u7248\u672c\u65b9\u6848\u7531\u4e8e\u6027\u80fd\u9650\u5236\uff0c\u56fe\u50cf\u5927\u5c0f\u5efa\u8bae\u4e0d\u8d85\u8fc7400 * 400 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e scale Integer \u5426 \u56fe\u50cf\u653e\u5927\u500d\u6570\uff0c\u652f\u6301\u653e\u5927\u500d\u6570\u4e3a2\u62164\uff0c\u9ed8\u8ba4\u503c\u4e3a2 face Bool \u5426 \u5f53\u8bbe\u7f6e\u4e3aTrue\u65f6\uff0c\u989d\u5916\u5f00\u542f\u4eba\u8138\u589e\u5f3a\uff0c\u9ed8\u8ba4\u503c\u4e3aFalse\u3002\uff08\u4ec5\u652f\u6301 GPU \u7248\u672c\u90e8\u7f72\u65b9\u5f0f\uff09 \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"scale\" : 2 } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"scale\" : 4 } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result String \u6309\u6bd4\u4f8b\u653e\u5927\u540e Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8fd4\u56de\u793a\u4f8b { \"result\": \"\u6309\u6bd4\u4f8b\u653e\u5927\u540e\u7684Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 ImageSuperResolution \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/image_super_resolution\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u7c7b\u578b Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u5165\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u51fa\u91cf \u793a\u4f8b \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u7406\u4e00\u5f20\u56fe\u63091\u79d2\u8ba1\u7b97\uff0c\u5904\u74061\u767e\u4e07\u56fe\u7247\u3002\u5176\u4e2dAmazon SageMaker\u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u5f00\u542f\u65f6\u4f1a\u4e00\u76f4\u8ba1\u8d39\u3002 \u4f7f\u7528\u672c\u65b9\u6848\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b214MB\u8ba1\u7b97\uff0c$0.09/GB $360 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $0.05 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 Amazon SageMaker \u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u9700\u8981\u8fd0\u884c278\u5c0f\u65f6\uff0cml.g4dn.xlarge $0.736/\u5c0f\u65f6 $204.61 Amazon SageMaker \u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u5165\u4ee5\u6bcf\u6b211MB\u8ba1\u7b97\uff0c$0.016/GB $16 Amazon SageMaker \u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b214MB\u8ba1\u7b97\uff0c$0.016/GB $64 \u5408\u8ba1 $648.21 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 ImageSuperResolution \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a20 \u5206\u949f","title":"\u56fe\u50cf\u8d85\u5206\u8fa8\u7387"},{"location":"deploy-image-super-resolution/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u7b49\u591a\u79cd\u573a\u666f\uff0c\u89e3\u51b3\u539f\u59cb\u56fe\u7247\u5206\u8fa8\u7387\u4e0d\u8db3\u7684\u95ee\u9898\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-image-super-resolution/#_2","text":"\u56fe\u50cf\u8d85\u5206\u8fa8\u7387API\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u57fa\u4e8e Amazon SageMaker \u7684GPU\u7c7b\u578b\u5b9e\u4f8b\u3002\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2d\u5bf9\u5e94\u5b9e\u4f8b\u9650\u5236\u4e0d\u8db3\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u529f\u80fd\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Amazon SageMaker \u670d\u52a1\u7684\u5b9e\u4f8b\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605 \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d \u3002 \u65b9\u6848\u4e2d\u9ed8\u8ba4\u7684 AWS Lambda \u5185\u5b58\u7ea6\u4e3a4GB\uff084096 MB\uff09\uff0c\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2dAWS Lambda\u51fd\u6570\u9650\u5236\u4f4e\u4e8e4096 MB\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Lambda \u670d\u52a1\u7684\u5185\u5b58\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605 \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d","title":"\u914d\u989d\u8bf4\u660e"},{"location":"deploy-image-super-resolution/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u56fe\u50cf\u5927\u5c0f\u5efa\u8bae\u4e0d\u8d85\u8fc71920 * 1080\uff0c\u5728\u5f00\u542f\u4eba\u50cf\u589e\u5f3a\u7684\u60c5\u51b5\u4e0b\uff0c\u56fe\u50cf\u5927\u5c0f\u5efa\u8bae\u4e0d\u8d85\u8fc71280 * 720\u3002AWS Lambda\u7248\u672c\u65b9\u6848\u7531\u4e8e\u6027\u80fd\u9650\u5236\uff0c\u56fe\u50cf\u5927\u5c0f\u5efa\u8bae\u4e0d\u8d85\u8fc7400 * 400 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e scale Integer \u5426 \u56fe\u50cf\u653e\u5927\u500d\u6570\uff0c\u652f\u6301\u653e\u5927\u500d\u6570\u4e3a2\u62164\uff0c\u9ed8\u8ba4\u503c\u4e3a2 face Bool \u5426 \u5f53\u8bbe\u7f6e\u4e3aTrue\u65f6\uff0c\u989d\u5916\u5f00\u542f\u4eba\u8138\u589e\u5f3a\uff0c\u9ed8\u8ba4\u503c\u4e3aFalse\u3002\uff08\u4ec5\u652f\u6301 GPU \u7248\u672c\u90e8\u7f72\u65b9\u5f0f\uff09 \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\", \"scale\" : 2 } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\", \"scale\" : 4 } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result String \u6309\u6bd4\u4f8b\u653e\u5927\u540e Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8fd4\u56de\u793a\u4f8b { \"result\": \"\u6309\u6bd4\u4f8b\u653e\u5927\u540e\u7684Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" }","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-image-super-resolution/#_3","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-image-super-resolution/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-image-super-resolution/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 ImageSuperResolution \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-image-super-resolution/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-image-super-resolution/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-image-super-resolution/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/image_super_resolution\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-image-super-resolution/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/image_super_resolution\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-image-super-resolution/#_4","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u7c7b\u578b Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u5165\u91cf Amazon SageMaker\u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u51fa\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-image-super-resolution/#_5","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u7406\u4e00\u5f20\u56fe\u63091\u79d2\u8ba1\u7b97\uff0c\u5904\u74061\u767e\u4e07\u56fe\u7247\u3002\u5176\u4e2dAmazon SageMaker\u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u5f00\u542f\u65f6\u4f1a\u4e00\u76f4\u8ba1\u8d39\u3002 \u4f7f\u7528\u672c\u65b9\u6848\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b214MB\u8ba1\u7b97\uff0c$0.09/GB $360 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $0.05 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 Amazon SageMaker \u7ec8\u7aef\u8282\u70b9\u5b9e\u4f8b\u9700\u8981\u8fd0\u884c278\u5c0f\u65f6\uff0cml.g4dn.xlarge $0.736/\u5c0f\u65f6 $204.61 Amazon SageMaker \u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u5165\u4ee5\u6bcf\u6b211MB\u8ba1\u7b97\uff0c$0.016/GB $16 Amazon SageMaker \u7ec8\u7aef\u8282\u70b9\u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b214MB\u8ba1\u7b97\uff0c$0.016/GB $64 \u5408\u8ba1 $648.21","title":"\u793a\u4f8b"},{"location":"deploy-image-super-resolution/#_6","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 ImageSuperResolution \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a20 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-object-recognition/","text":"\u68c0\u6d4b\u56fe\u50cf\u4e2d\u7684\u901a\u7528\u5bf9\u8c61\u4e3b\u4f53\uff0c\u8fd4\u56de\u8be5\u5bf9\u8c61\u4e3b\u4f53\u7684\u533a\u57df\u4fe1\u606f\u4e0e\u7f6e\u4fe1\u5ea6\u3002\u652f\u6301\u8bc6\u522b300\u7c7b\u7269\u4f53\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8eIPC\u56fe\u50cf\u68c0\u6d4b\u3001\u4ea4\u901a\u3001\u5b89\u9632\u7b49\u884c\u4e1a\u4e2d\u56fe\u50cf\u573a\u666f\u7684\u76ee\u6807\u68c0\u6d4b\u4e0e\u8ddf\u8e2a\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Labels List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u76ee\u6807\u5217\u8868 Name String \u76ee\u6807\u7c7b\u522b\u540d Instances List \u7c7b\u522b\u5b9e\u4f8b\u5217\u8868 BoundingBox JSON \u5b9e\u4f8b\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 Confidence Float \u5b9e\u4f8b\u7684\u7f6e\u4fe1\u5ea6\uff0c0-100 Confidence Int \u5f53\u524d\u7c7b\u522b\u5b9e\u4f8b\u7f6e\u4fe1\u5ea6\u7684\u6700\u5927\u503c LabelModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Labels\": [ { \"Name\": \"car_(automobile)\", \"Confidence\": 67.87780523300171, \"Instances\": [ { \"BoundingBox\": { \"Width\": 1.0013043403596384, \"Height\": 0.9958885181613408, \"Left\": -0.00021715163893532008, \"Top\": 0.00033918747441136817 }, \"Confidence\": 67.87780523300171 } ] }, { \"Name\": \"mirror\", \"Confidence\": 59.2678964138031, \"Instances\": [ { \"BoundingBox\": { \"Width\": 0.14041614532470703, \"Height\": 0.29166373257057565, \"Left\": 0.2743588984012604, \"Top\": 0.2794425819140053 }, \"Confidence\": 59.2678964138031 } ] }, { \"Name\": \"window\", \"Confidence\": 16.396354138851166, \"Instances\": [ { \"BoundingBox\": { \"Width\": 0.44319993257522583, \"Height\": 0.6673663154702585, \"Left\": 0.5509995222091675, \"Top\": 0.015529238811174562 }, \"Confidence\": 16.396354138851166 } ] } ], \"LabelModelVersion\": \"1.2.0\" } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 ObjectRecognition \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/object_recognition\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u652f\u6301\u7684\u76ee\u6807\u8bc6\u522b\u5b9e\u4f53\u5217\u8868 ID \u540d\u79f0 accordion \u624b\u98ce\u7434 airplane \u98de\u673a alligator \u9cc4\u9c7c apple \u82f9\u679c army_tank \u519b\u961f\u5766\u514b awning \u68da backpack \u80cc\u5305 ball \u7403 balloon \u6c14\u7403 banana \u9999\u8549 barrel \u6876 baseball \u68d2\u7403 baseball_bat \u68d2\u7403\u68d2 baseball_glove \u68d2\u7403\u624b\u5957 basket \u7bee\u5b50 bathtub \u6d74\u7f38 bear \u718a bed \u5e8a bee \u871c\u8702 beer_bottle \u5564\u9152\u74f6 bell_pepper \u706f\u7b3c\u6912 belt \u8170\u5e26 bench \u957f\u6905 bicycle \u81ea\u884c\u8f66 billboard \u5e7f\u544a\u724c bird \u9e1f blackboard \u9ed1\u677f boat \u8239 book \u4e66 bookcase \u4e66\u67dc boot \u5f00\u673a bottle \u74f6\u5b50 bowl \u7897 bowling_ball \u4fdd\u9f84\u7403 box \u76d2\u5b50 bracelet \u624b\u956f brassiere \u4e73\u7f69 bread \u9762\u5305 broccoli \u897f\u5170\u82b1 building \u5efa\u9020 bus_(vehicle) \u516c\u5171\u6c7d\u8f66_\uff08\u8f66\u8f86\uff09 butterfly \u8774\u8776 cabinet \u5185\u9601 cake \u86cb\u7cd5 camel \u9a86\u9a7c camera \u76f8\u673a can \u80fd\u591f candle \u8721\u70db candy_bar \u7cd6\u679c\u6761 cannon \u5927\u70ae canoe \u72ec\u6728\u821f car_(automobile) car_(\u6c7d\u8f66) carrot \u80e1\u841d\u535c cart \u5927\u8f66 castle \u57ce\u5821 cat \u732b caterpillar \u6bdb\u866b cello \u5927\u63d0\u7434 cellular_telephone \u8702\u7a9d\u7535\u8bdd chair \u6905\u5b50 chicken_(animal) \u9e21_\uff08\u52a8\u7269\uff09 chopping_board \u5207\u83dc\u677f chopstick \u7b77\u5b50 christmas_tree \u5723\u8bde\u6811 clock \u949f coat \u5916\u5957 cocktail \u9e21\u5c3e\u9152 coffee_table \u5496\u5561\u684c coin \u786c\u5e01 computer_keyboard \u8ba1\u7b97\u673a\u952e\u76d8 computer_monitor \u7535\u8111\u663e\u793a\u5668 cone \u9525\u4f53 cookie \u66f2\u5947\u997c cow \u725b cowboy_hat \u725b\u4ed4\u5e3d crab_(animal) \u8783\u87f9_\uff08\u52a8\u7269\uff09 crown \u738b\u51a0 cucumber \u9ec4\u74dc cup \u676f\u5b50 cupboard \u6a71\u67dc curtain \u7a97\u5e18 deer \u9e7f desk \u684c\u5b50 dessert \u751c\u70b9 dinosaur \u6050\u9f99 dog \u72d7 doll \u73a9\u5177\u5a03\u5a03 dolphin \u6d77\u8c5a door \u95e8 doorknob \u95e8\u628a\u624b doughnut \u751c\u751c\u5708 dragonfly \u873b\u8713 drawer \u62bd\u5c49 dress \u88d9\u5b50 drum_(musical_instrument) \u9f13_\uff08\u97f3\u4e50\u4e50\u5668\uff09 duck \u9e2d duffel_bag \u884c\u674e\u888b eagle \u9e70 earring \u8033\u73af egg \u86cb elephant \u5927\u8c61 fan \u6247\u5b50 faucet \u9f99\u5934 fireplace \u58c1\u7089 fireplug \u706b\u585e fish \u9c7c flag \u65d7\u5e1c flower_arrangement \u63d2\u82b1 flowerpot \u82b1\u76c6 football_helmet \u8db3\u7403\u5934\u76d4 fork \u53c9 fountain \u55b7\u6cc9 french_fries \u70b8\u85af\u6761 frisbee \u98de\u76d8 frog \u9752\u86d9 fruit \u6c34\u679c fruit_juice \u679c\u6c41 frying_pan \u5e73\u5e95\u9505 gazelle \u7f9a\u7f8a giraffe \u957f\u9888\u9e7f glass_(drink_container) \u73bb\u7483_\uff08\u996e\u6599\u5bb9\u5668\uff09 glove \u624b\u5957 goat \u5c71\u7f8a goggles \u98ce\u955c goose \u9e45 grape \u8461\u8404 guitar \u5409\u4ed6 gun \u67aa hamburger \u6c49\u5821\u5305 hamster \u4ed3\u9f20 handbag \u624b\u63d0\u5305 handle \u5904\u7406 harbor_seal \u6e2f\u53e3\u5bc6\u5c01 hat \u5e3d\u5b50 headset \u8033\u673a helicopter \u76f4\u5347\u673a helmet \u5934\u76d4 high_heels \u9ad8\u8ddf\u978b hog \u732a horse \u9a6c house \u5c4b icecream \u51b0\u6dc7\u6dcb insect \u6606\u866b jacket \u5939\u514b jaguar \u6377\u8c79 jean \u725b\u4ed4\u5e03 jellyfish \u6d77\u8707 kitchen_table \u53a8\u623f\u7684\u684c\u5b50 kite \u98ce\u7b5d knife \u5200 ladder \u68af\u5b50 lamp \u706f lantern \u706f\u7b3c laptop_computer \u7b14\u8bb0\u672c\u7535\u8111 lavender \u85b0\u8863\u8349 lemon \u67e0\u6aac lettuce \u83b4\u82e3 license_plate \u8f66\u724c life_jacket \u6551\u751f\u8863 lightbulb \u706f\u6ce1 lighthouse \u706f\u5854 lily \u767e\u5408 lion \u72ee\u5b50 lizard \u8725\u8734 maple \u67ab mask \u9762\u5177 microphone \u9ea6\u514b\u98ce microwave_oven \u5fae\u6ce2\u7089 minivan \u5c0f\u578b\u8d27\u8f66 mirror \u955c\u5b50 monkey \u7334 motorcycle \u6469\u6258\u8f66 mouse_(computer_equipment) \u9f20\u6807_\uff08\u8ba1\u7b97\u673a\u8bbe\u5907\uff09 muffin \u677e\u997c mug \u9a6c\u514b\u676f mushroom \u8611\u83c7 musical_instrument \u4e50\u5668 napkin \u9910\u5dfe necklace \u9879\u94fe necktie \u9886\u5e26 nightstand \u5e8a\u5934\u67dc onion \u6d0b\u8471 orange_(fruit) \u6a59\u5b50_\uff08\u6c34\u679c\uff09 oven \u70e4\u7bb1 owl \u732b\u5934\u9e70 paddle \u6868 painting \u7ed8\u753b palm_tree \u68d5\u6988\u6811 parachute \u964d\u843d\u4f1e parking_meter \u505c\u8f66\u6536\u8d39\u8868 parrot \u9e66\u9e49 pasta \u610f\u5927\u5229\u9762 pastry \u7cd5\u70b9 pen \u7b14 penguin \u4f01\u9e45 person \u4eba piano \u94a2\u7434 pillow \u6795\u5934 pizza \u6bd4\u8428 plastic_bag \u5851\u6599\u888b plate \u76d8\u5b50 polar_bear \u5317\u6781\u718a pool_table \u6c60\u8868 porch \u95e8\u5eca poster \u6d77\u62a5 potted_plant \u76c6\u683d\u690d\u7269 pumpkin \u5357\u74dc rabbit \u5154\u5b50 refrigerator \u51b0\u7bb1 remote_control \u9065\u63a7 ring \u6212\u6307 roller_skate \u6e9c\u51b0\u978b rose \u73ab\u7470 salad \u6c99\u62c9 sandal_(type_of_shoe) \u51c9\u978b sandwich \u4e09\u660e\u6cbb saucer \u789f\u5b50 saxophone \u8428\u514b\u65af\u7ba1 scarf \u56f4\u5dfe scissors \u526a\u5200 sculpture \u96d5\u5851 sheep \u7f8a shirt \u886c\u886b shoe \u978b short_pants \u77ed\u88e4 shrimp \u867e sink \u4e0b\u6c89 skateboard \u6ed1\u677f ski \u6ed1\u96ea skirt \u77ed\u88d9 skullcap \u9ec4\u82a9 snake \u86c7 snowboard \u6ed1\u96ea\u677f soccer_ball \u8db3\u7403 sock \u77ed\u889c sofa \u6c99\u53d1 sofa_bed \u6c99\u53d1\u5e8a sparrow \u9ebb\u96c0 speaker_(stero_equipment) \u626c\u58f0\u5668_\uff08\u97f3\u54cd\u8bbe\u5907\uff09 spectacles \u773c\u955c spider \u8718\u86db spoon \u52fa\u5b50 sportswear \u8fd0\u52a8\u670d squirrel \u677e\u9f20 stool \u51f3\u5b50 stop_sign \u505c\u6b62\u6807\u5fd7 stove \u706b\u7089 straw_(for_drinking) \u7a3b\u8349_\uff08\u559d\uff09 strawberry \u8349\u8393 street_sign \u8857\u9053\u8def\u6807 streetlight \u8def\u706f suit_(clothing) \u5957\u88c5_\uff08\u670d\u88c5\uff09 suitcase \u624b\u63d0\u7bb1 sunflower \u5411\u65e5\u8475 sunglasses \u592a\u9633\u955c sunhat \u592a\u9633\u5e3d surfboard \u51b2\u6d6a\u677f sushi \u5bff\u53f8 swimming_pool \u6e38\u6cf3\u6c60 swimsuit \u6cf3\u88c5 table \u684c\u5b50 tablet_computer \u5e73\u677f\u7535\u8111 taxi \u51fa\u79df\u8f66 teddy_bear \u73a9\u5177\u718a telephone \u7535\u8bdd television_set \u7535\u89c6\u673a tennis_ball \u7f51\u7403 tennis_racket \u7f51\u7403\u62cd tent \u5e10\u7bf7 tiger \u8001\u864e toilet \u6d17\u624b\u95f4 toilet_tissue \u536b\u751f\u7eb8 tomato \u756a\u8304 toothbrush \u7259\u5237 towel \u6bdb\u5dfe tower \u5854 toy \u73a9\u5177 traffic_light \u7ea2\u7eff\u706f train_(railroad_vehicle) \u706b\u8f66_\uff08\u94c1\u8def_\u8f66\u8f86\uff09 trash_can \u5783\u573e\u7bb1 tray \u6258\u76d8 tree \u6811 tripod \u4e09\u811a\u67b6 trousers \u88e4\u5b50 truck \u5361\u8f66 trumpet \u5587\u53ed turtle \u9f9f umbrella \u4f1e vase \u82b1\u74f6 vegetables \u852c\u83dc violin \u5c0f\u63d0\u7434 wall_socket \u5899\u4e0a\u7684\u63d2\u5ea7 watch \u624b\u8868 water_jug \u6c34\u58f6 whale \u9cb8 wheel \u8f66\u8f6e wheelchair \u8f6e\u6905 window \u7a97\u6237 wineglass \u7ea2\u9152\u676f zebra \u6591\u9a6c \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u901a\u7528\u7269\u4f53\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 ObjectRecognition \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u901a\u7528\u7269\u4f53\u8bc6\u522b"},{"location":"deploy-object-recognition/#_1","text":"\u53ef\u5e94\u7528\u4e8eIPC\u56fe\u50cf\u68c0\u6d4b\u3001\u4ea4\u901a\u3001\u5b89\u9632\u7b49\u884c\u4e1a\u4e2d\u56fe\u50cf\u573a\u666f\u7684\u76ee\u6807\u68c0\u6d4b\u4e0e\u8ddf\u8e2a\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-object-recognition/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e Labels List \u56fe\u50cf\u4e2d\u627e\u5230\u7684\u76ee\u6807\u5217\u8868 Name String \u76ee\u6807\u7c7b\u522b\u540d Instances List \u7c7b\u522b\u5b9e\u4f8b\u5217\u8868 BoundingBox JSON \u5b9e\u4f8b\u5728\u56fe\u50cf\u4e2d\u7684\u7684\u5750\u6807\u503c\uff0c\u5305\u542btop\uff0cleft\uff0cwidth\uff0cheight\u76f8\u5bf9\u5168\u753b\u9762\u7684\u767e\u5206\u6bd4 Confidence Float \u5b9e\u4f8b\u7684\u7f6e\u4fe1\u5ea6\uff0c0-100 Confidence Int \u5f53\u524d\u7c7b\u522b\u5b9e\u4f8b\u7f6e\u4fe1\u5ea6\u7684\u6700\u5927\u503c LabelModelVersion String \u5f53\u524d\u6a21\u578b\u7248\u672c\u53f7 \u8fd4\u56de\u793a\u4f8b { \"Labels\": [ { \"Name\": \"car_(automobile)\", \"Confidence\": 67.87780523300171, \"Instances\": [ { \"BoundingBox\": { \"Width\": 1.0013043403596384, \"Height\": 0.9958885181613408, \"Left\": -0.00021715163893532008, \"Top\": 0.00033918747441136817 }, \"Confidence\": 67.87780523300171 } ] }, { \"Name\": \"mirror\", \"Confidence\": 59.2678964138031, \"Instances\": [ { \"BoundingBox\": { \"Width\": 0.14041614532470703, \"Height\": 0.29166373257057565, \"Left\": 0.2743588984012604, \"Top\": 0.2794425819140053 }, \"Confidence\": 59.2678964138031 } ] }, { \"Name\": \"window\", \"Confidence\": 16.396354138851166, \"Instances\": [ { \"BoundingBox\": { \"Width\": 0.44319993257522583, \"Height\": 0.6673663154702585, \"Left\": 0.5509995222091675, \"Top\": 0.015529238811174562 }, \"Confidence\": 16.396354138851166 } ] } ], \"LabelModelVersion\": \"1.2.0\" }","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-object-recognition/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-object-recognition/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-object-recognition/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 ObjectRecognition \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-object-recognition/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-object-recognition/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-object-recognition/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/object_recognition\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-object-recognition/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/object_recognition\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-object-recognition/#_3","text":"ID \u540d\u79f0 accordion \u624b\u98ce\u7434 airplane \u98de\u673a alligator \u9cc4\u9c7c apple \u82f9\u679c army_tank \u519b\u961f\u5766\u514b awning \u68da backpack \u80cc\u5305 ball \u7403 balloon \u6c14\u7403 banana \u9999\u8549 barrel \u6876 baseball \u68d2\u7403 baseball_bat \u68d2\u7403\u68d2 baseball_glove \u68d2\u7403\u624b\u5957 basket \u7bee\u5b50 bathtub \u6d74\u7f38 bear \u718a bed \u5e8a bee \u871c\u8702 beer_bottle \u5564\u9152\u74f6 bell_pepper \u706f\u7b3c\u6912 belt \u8170\u5e26 bench \u957f\u6905 bicycle \u81ea\u884c\u8f66 billboard \u5e7f\u544a\u724c bird \u9e1f blackboard \u9ed1\u677f boat \u8239 book \u4e66 bookcase \u4e66\u67dc boot \u5f00\u673a bottle \u74f6\u5b50 bowl \u7897 bowling_ball \u4fdd\u9f84\u7403 box \u76d2\u5b50 bracelet \u624b\u956f brassiere \u4e73\u7f69 bread \u9762\u5305 broccoli \u897f\u5170\u82b1 building \u5efa\u9020 bus_(vehicle) \u516c\u5171\u6c7d\u8f66_\uff08\u8f66\u8f86\uff09 butterfly \u8774\u8776 cabinet \u5185\u9601 cake \u86cb\u7cd5 camel \u9a86\u9a7c camera \u76f8\u673a can \u80fd\u591f candle \u8721\u70db candy_bar \u7cd6\u679c\u6761 cannon \u5927\u70ae canoe \u72ec\u6728\u821f car_(automobile) car_(\u6c7d\u8f66) carrot \u80e1\u841d\u535c cart \u5927\u8f66 castle \u57ce\u5821 cat \u732b caterpillar \u6bdb\u866b cello \u5927\u63d0\u7434 cellular_telephone \u8702\u7a9d\u7535\u8bdd chair \u6905\u5b50 chicken_(animal) \u9e21_\uff08\u52a8\u7269\uff09 chopping_board \u5207\u83dc\u677f chopstick \u7b77\u5b50 christmas_tree \u5723\u8bde\u6811 clock \u949f coat \u5916\u5957 cocktail \u9e21\u5c3e\u9152 coffee_table \u5496\u5561\u684c coin \u786c\u5e01 computer_keyboard \u8ba1\u7b97\u673a\u952e\u76d8 computer_monitor \u7535\u8111\u663e\u793a\u5668 cone \u9525\u4f53 cookie \u66f2\u5947\u997c cow \u725b cowboy_hat \u725b\u4ed4\u5e3d crab_(animal) \u8783\u87f9_\uff08\u52a8\u7269\uff09 crown \u738b\u51a0 cucumber \u9ec4\u74dc cup \u676f\u5b50 cupboard \u6a71\u67dc curtain \u7a97\u5e18 deer \u9e7f desk \u684c\u5b50 dessert \u751c\u70b9 dinosaur \u6050\u9f99 dog \u72d7 doll \u73a9\u5177\u5a03\u5a03 dolphin \u6d77\u8c5a door \u95e8 doorknob \u95e8\u628a\u624b doughnut \u751c\u751c\u5708 dragonfly \u873b\u8713 drawer \u62bd\u5c49 dress \u88d9\u5b50 drum_(musical_instrument) \u9f13_\uff08\u97f3\u4e50\u4e50\u5668\uff09 duck \u9e2d duffel_bag \u884c\u674e\u888b eagle \u9e70 earring \u8033\u73af egg \u86cb elephant \u5927\u8c61 fan \u6247\u5b50 faucet \u9f99\u5934 fireplace \u58c1\u7089 fireplug \u706b\u585e fish \u9c7c flag \u65d7\u5e1c flower_arrangement \u63d2\u82b1 flowerpot \u82b1\u76c6 football_helmet \u8db3\u7403\u5934\u76d4 fork \u53c9 fountain \u55b7\u6cc9 french_fries \u70b8\u85af\u6761 frisbee \u98de\u76d8 frog \u9752\u86d9 fruit \u6c34\u679c fruit_juice \u679c\u6c41 frying_pan \u5e73\u5e95\u9505 gazelle \u7f9a\u7f8a giraffe \u957f\u9888\u9e7f glass_(drink_container) \u73bb\u7483_\uff08\u996e\u6599\u5bb9\u5668\uff09 glove \u624b\u5957 goat \u5c71\u7f8a goggles \u98ce\u955c goose \u9e45 grape \u8461\u8404 guitar \u5409\u4ed6 gun \u67aa hamburger \u6c49\u5821\u5305 hamster \u4ed3\u9f20 handbag \u624b\u63d0\u5305 handle \u5904\u7406 harbor_seal \u6e2f\u53e3\u5bc6\u5c01 hat \u5e3d\u5b50 headset \u8033\u673a helicopter \u76f4\u5347\u673a helmet \u5934\u76d4 high_heels \u9ad8\u8ddf\u978b hog \u732a horse \u9a6c house \u5c4b icecream \u51b0\u6dc7\u6dcb insect \u6606\u866b jacket \u5939\u514b jaguar \u6377\u8c79 jean \u725b\u4ed4\u5e03 jellyfish \u6d77\u8707 kitchen_table \u53a8\u623f\u7684\u684c\u5b50 kite \u98ce\u7b5d knife \u5200 ladder \u68af\u5b50 lamp \u706f lantern \u706f\u7b3c laptop_computer \u7b14\u8bb0\u672c\u7535\u8111 lavender \u85b0\u8863\u8349 lemon \u67e0\u6aac lettuce \u83b4\u82e3 license_plate \u8f66\u724c life_jacket \u6551\u751f\u8863 lightbulb \u706f\u6ce1 lighthouse \u706f\u5854 lily \u767e\u5408 lion \u72ee\u5b50 lizard \u8725\u8734 maple \u67ab mask \u9762\u5177 microphone \u9ea6\u514b\u98ce microwave_oven \u5fae\u6ce2\u7089 minivan \u5c0f\u578b\u8d27\u8f66 mirror \u955c\u5b50 monkey \u7334 motorcycle \u6469\u6258\u8f66 mouse_(computer_equipment) \u9f20\u6807_\uff08\u8ba1\u7b97\u673a\u8bbe\u5907\uff09 muffin \u677e\u997c mug \u9a6c\u514b\u676f mushroom \u8611\u83c7 musical_instrument \u4e50\u5668 napkin \u9910\u5dfe necklace \u9879\u94fe necktie \u9886\u5e26 nightstand \u5e8a\u5934\u67dc onion \u6d0b\u8471 orange_(fruit) \u6a59\u5b50_\uff08\u6c34\u679c\uff09 oven \u70e4\u7bb1 owl \u732b\u5934\u9e70 paddle \u6868 painting \u7ed8\u753b palm_tree \u68d5\u6988\u6811 parachute \u964d\u843d\u4f1e parking_meter \u505c\u8f66\u6536\u8d39\u8868 parrot \u9e66\u9e49 pasta \u610f\u5927\u5229\u9762 pastry \u7cd5\u70b9 pen \u7b14 penguin \u4f01\u9e45 person \u4eba piano \u94a2\u7434 pillow \u6795\u5934 pizza \u6bd4\u8428 plastic_bag \u5851\u6599\u888b plate \u76d8\u5b50 polar_bear \u5317\u6781\u718a pool_table \u6c60\u8868 porch \u95e8\u5eca poster \u6d77\u62a5 potted_plant \u76c6\u683d\u690d\u7269 pumpkin \u5357\u74dc rabbit \u5154\u5b50 refrigerator \u51b0\u7bb1 remote_control \u9065\u63a7 ring \u6212\u6307 roller_skate \u6e9c\u51b0\u978b rose \u73ab\u7470 salad \u6c99\u62c9 sandal_(type_of_shoe) \u51c9\u978b sandwich \u4e09\u660e\u6cbb saucer \u789f\u5b50 saxophone \u8428\u514b\u65af\u7ba1 scarf \u56f4\u5dfe scissors \u526a\u5200 sculpture \u96d5\u5851 sheep \u7f8a shirt \u886c\u886b shoe \u978b short_pants \u77ed\u88e4 shrimp \u867e sink \u4e0b\u6c89 skateboard \u6ed1\u677f ski \u6ed1\u96ea skirt \u77ed\u88d9 skullcap \u9ec4\u82a9 snake \u86c7 snowboard \u6ed1\u96ea\u677f soccer_ball \u8db3\u7403 sock \u77ed\u889c sofa \u6c99\u53d1 sofa_bed \u6c99\u53d1\u5e8a sparrow \u9ebb\u96c0 speaker_(stero_equipment) \u626c\u58f0\u5668_\uff08\u97f3\u54cd\u8bbe\u5907\uff09 spectacles \u773c\u955c spider \u8718\u86db spoon \u52fa\u5b50 sportswear \u8fd0\u52a8\u670d squirrel \u677e\u9f20 stool \u51f3\u5b50 stop_sign \u505c\u6b62\u6807\u5fd7 stove \u706b\u7089 straw_(for_drinking) \u7a3b\u8349_\uff08\u559d\uff09 strawberry \u8349\u8393 street_sign \u8857\u9053\u8def\u6807 streetlight \u8def\u706f suit_(clothing) \u5957\u88c5_\uff08\u670d\u88c5\uff09 suitcase \u624b\u63d0\u7bb1 sunflower \u5411\u65e5\u8475 sunglasses \u592a\u9633\u955c sunhat \u592a\u9633\u5e3d surfboard \u51b2\u6d6a\u677f sushi \u5bff\u53f8 swimming_pool \u6e38\u6cf3\u6c60 swimsuit \u6cf3\u88c5 table \u684c\u5b50 tablet_computer \u5e73\u677f\u7535\u8111 taxi \u51fa\u79df\u8f66 teddy_bear \u73a9\u5177\u718a telephone \u7535\u8bdd television_set \u7535\u89c6\u673a tennis_ball \u7f51\u7403 tennis_racket \u7f51\u7403\u62cd tent \u5e10\u7bf7 tiger \u8001\u864e toilet \u6d17\u624b\u95f4 toilet_tissue \u536b\u751f\u7eb8 tomato \u756a\u8304 toothbrush \u7259\u5237 towel \u6bdb\u5dfe tower \u5854 toy \u73a9\u5177 traffic_light \u7ea2\u7eff\u706f train_(railroad_vehicle) \u706b\u8f66_\uff08\u94c1\u8def_\u8f66\u8f86\uff09 trash_can \u5783\u573e\u7bb1 tray \u6258\u76d8 tree \u6811 tripod \u4e09\u811a\u67b6 trousers \u88e4\u5b50 truck \u5361\u8f66 trumpet \u5587\u53ed turtle \u9f9f umbrella \u4f1e vase \u82b1\u74f6 vegetables \u852c\u83dc violin \u5c0f\u63d0\u7434 wall_socket \u5899\u4e0a\u7684\u63d2\u5ea7 watch \u624b\u8868 water_jug \u6c34\u58f6 whale \u9cb8 wheel \u8f66\u8f6e wheelchair \u8f6e\u6905 window \u7a97\u6237 wineglass \u7ea2\u9152\u676f zebra \u6591\u9a6c","title":"\u652f\u6301\u7684\u76ee\u6807\u8bc6\u522b\u5b9e\u4f53\u5217\u8868"},{"location":"deploy-object-recognition/#_4","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-object-recognition/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-object-recognition/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-object-recognition/#_5","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u901a\u7528\u7269\u4f53\u8bc6\u522b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 ObjectRecognition \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-pornography-detection/","text":"\u81ea\u52a8\u5bf9\u56fe\u7247\u8fdb\u884c\u5ba1\u6838\uff0c\u83b7\u53d6\u591a\u7ef4\u5ea6\u8272\u60c5\u91cf\u5316\u4fe1\u606f\uff0c\u5982\uff1anormal\uff0csexy\uff0cporn\uff0c\u5b9e\u73b0\u7cbe\u51c6\u5feb\u901f\u7684\u8272\u60c5\u503e\u5411\u5224\u65ad\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u5bf9\u6d89\u9ec4\u5185\u5bb9\u8fdb\u884c\u5feb\u901f\u5904\u7406\u7684\u573a\u666f\u3002\u5e2e\u52a9\u5ba2\u6237\u51cf\u5c11\u5ba1\u6838\u4eba\u529b\uff0c\u6709\u6548\u964d\u4f4e\u6d89\u9ec4\u98ce\u9669\uff0c\u63d0\u5347\u4fe1\u606f\u5904\u7406\u6548\u7387\u3002 API\u53c2\u6570\u8bf4\u660e HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e normal Float \u8bc6\u522b\u56fe\u50cf\u7684\u6b63\u5e38\u7ef4\u5ea6\u5360\u6bd4 sexy Float \u8bc6\u522b\u56fe\u50cf\u7684\u6027\u611f\u7ef4\u5ea6\u5360\u6bd4 porn Float \u8bc6\u522b\u56fe\u50cf\u7684\u8272\u60c5\u7ef4\u5ea6\u5360\u6bd4 \u8fd4\u56de\u793a\u4f8b { \u201cnormal\u201d : 0.15993066132068634, \u201csexy\u201d : 0.5451669692993164, \u201cporn\u201d : 0.2949024438858032 } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 PornographyDetection \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/pornography-detection\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 PornographyDetection \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u8272\u60c5\u5185\u5bb9\u68c0\u6d4b"},{"location":"deploy-pornography-detection/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u5bf9\u6d89\u9ec4\u5185\u5bb9\u8fdb\u884c\u5feb\u901f\u5904\u7406\u7684\u573a\u666f\u3002\u5e2e\u52a9\u5ba2\u6237\u51cf\u5c11\u5ba1\u6838\u4eba\u529b\uff0c\u6709\u6548\u964d\u4f4e\u6d89\u9ec4\u98ce\u9669\uff0c\u63d0\u5347\u4fe1\u606f\u5904\u7406\u6548\u7387\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-pornography-detection/#api","text":"HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e url String \u4e0e img \u53c2\u6570\u4e8c\u9009\u4e00 \u56fe\u50cf\u7684 URL \u5730\u5740\u3002\u652f\u6301 HTTP/HTTPS \u548c S3 \u534f\u8bae\u3002\u8981\u6c42\u56fe\u50cf\u683c\u5f0f\u4e3a jpg/jpeg/png/bmp \uff0c\u6700\u957f\u8fb9\u4e0d\u8d85\u8fc7 4096px\u3002 img String \u4e0e url \u53c2\u6570\u4e8c\u9009\u4e00 \u8fdb\u884c Base64 \u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } { \"img\": \"Base64\u7f16\u7801\u7684\u56fe\u50cf\u6570\u636e\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e normal Float \u8bc6\u522b\u56fe\u50cf\u7684\u6b63\u5e38\u7ef4\u5ea6\u5360\u6bd4 sexy Float \u8bc6\u522b\u56fe\u50cf\u7684\u6027\u611f\u7ef4\u5ea6\u5360\u6bd4 porn Float \u8bc6\u522b\u56fe\u50cf\u7684\u8272\u60c5\u7ef4\u5ea6\u5360\u6bd4 \u8fd4\u56de\u793a\u4f8b { \u201cnormal\u201d : 0.15993066132068634, \u201csexy\u201d : 0.5451669692993164, \u201cporn\u201d : 0.2949024438858032 }","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-pornography-detection/#_2","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-pornography-detection/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-pornography-detection/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 PornographyDetection \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-pornography-detection/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-pornography-detection/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-pornography-detection/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/pornography-detection\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-pornography-detection/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/pornography-detection\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-pornography-detection/#_3","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-pornography-detection/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-pornography-detection/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-pornography-detection/#_4","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 PornographyDetection \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deploy-text-similarity/","text":"\u6bd4\u8f83\u4e24\u6bb5\u4e0d\u540c\u6587\u672c\u4e4b\u95f4\u76f8\u4f3c\u5ea6\uff0c\u5e76\u8f93\u51fa\u4e00\u4e2a\u4ecb\u4e8e0\u52301\u4e4b\u95f4\u7684\u7f6e\u4fe1\u5ea6\uff0c\u6839\u636e\u7f6e\u4fe1\u5ea6\u6bd4\u8f83\u4e24\u6bb5\u6587\u5b57\u7684\u76f8\u4f3c\u6027\u3002 \u9002\u7528\u573a\u666f \u53ef\u5e94\u7528\u4e8e\u641c\u7d22\u5f15\u64ce\u3001\u63a8\u8350\u7cfb\u7edf\u3001\u673a\u5668\u7ffb\u8bd1\u3001\u81ea\u52a8\u5e94\u7b54\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u62fc\u5199\u7ea0\u9519\u7b49\u573a\u666f\u3002 API\u53c2\u6570\u8bf4\u660e \u8be5API\u652f\u6301\u5355\u6587\u672c\u3001\u6587\u672c\u5bf9\u4e24\u79cd\u8f93\u5165\u6a21\u5f0f\u3002 \u5355\u6587\u672c\u6a21\u5f0f \u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u5355\u4e2a\u6587\u672c\uff0c\u8fd4\u56de\u6587\u672c\u7684\u7279\u5f81\u5411\u91cf\u3002\u9700\u81ea\u884c\u7ef4\u62a4\u4e00\u4e2a\u5411\u91cf\u68c0\u7d22\u7cfb\u7edf\u3002\u9002\u5408\u641c\u7d22\u3001\u53ec\u56de\u7b49\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e text String \u6587\u672c\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"text\": \"\u6d4b\u8bd5\u6587\u672c\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result List \u4e00\u4e2a\u5177\u6709768\u4e2a\u5143\u7d20\u7684List\uff0c\u4e3a768\u7ef4\u7684\u6587\u672c\u5411\u91cf \u8fd4\u56de\u793a\u4f8b { \"result\": [ 0.025645000860095024, 0.001914000022225082, 0.007929000072181225, ... ] } \u6587\u672c\u5bf9\u6a21\u5f0f \u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u4e24\u4e2a\u6587\u672c\uff0c\u8fd4\u56de\u4e24\u4e2a\u6587\u672c\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\u9002\u5408\u76f8\u4f3c\u5ea6\u6bd4\u8f83\u7684\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e text_1 String \u6587\u672c\u6570\u636e text_2 String \u6587\u672c\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"text_1\": \"\u6d4b\u8bd5\u6587\u672c\", \"text_2\": \"\u6d4b\u8bd5\u6587\u672c\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e similarity Float \u4e24\u4e2a\u6587\u672c\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c\u3002\u8d8a\u63a5\u8fd1\u4e8e1\uff0c\u4ee3\u8868\u6587\u672c\u8d8a\u76f8\u4f3c\u3002 \u8fd4\u56de\u793a\u4f8b { \"similarity\": 0.95421 } \u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 TextSimilarity \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/text_similarity\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute(); \u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u8bf4\u660e Amazon SageMaker\u76f8\u5173\u7684\u8d39\u7528\u4ec5\u9002\u7528\u4e8e\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u65b9\u6848\u3002 \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u6587\u672c\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u6587\u672c\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95 \u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u6587\u672c\u76f8\u4f3c\u5ea6 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 TextSimilarity \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u6587\u672c\u76f8\u4f3c\u5ea6"},{"location":"deploy-text-similarity/#_1","text":"\u53ef\u5e94\u7528\u4e8e\u641c\u7d22\u5f15\u64ce\u3001\u63a8\u8350\u7cfb\u7edf\u3001\u673a\u5668\u7ffb\u8bd1\u3001\u81ea\u52a8\u5e94\u7b54\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u62fc\u5199\u7ea0\u9519\u7b49\u573a\u666f\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"deploy-text-similarity/#api","text":"\u8be5API\u652f\u6301\u5355\u6587\u672c\u3001\u6587\u672c\u5bf9\u4e24\u79cd\u8f93\u5165\u6a21\u5f0f\u3002","title":"API\u53c2\u6570\u8bf4\u660e"},{"location":"deploy-text-similarity/#_2","text":"\u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u5355\u4e2a\u6587\u672c\uff0c\u8fd4\u56de\u6587\u672c\u7684\u7279\u5f81\u5411\u91cf\u3002\u9700\u81ea\u884c\u7ef4\u62a4\u4e00\u4e2a\u5411\u91cf\u68c0\u7d22\u7cfb\u7edf\u3002\u9002\u5408\u641c\u7d22\u3001\u53ec\u56de\u7b49\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e text String \u6587\u672c\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"text\": \"\u6d4b\u8bd5\u6587\u672c\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e result List \u4e00\u4e2a\u5177\u6709768\u4e2a\u5143\u7d20\u7684List\uff0c\u4e3a768\u7ef4\u7684\u6587\u672c\u5411\u91cf \u8fd4\u56de\u793a\u4f8b { \"result\": [ 0.025645000860095024, 0.001914000022225082, 0.007929000072181225, ... ] }","title":"\u5355\u6587\u672c\u6a21\u5f0f"},{"location":"deploy-text-similarity/#_3","text":"\u8be5\u6a21\u5f0f\u8f93\u5165\u4e3a\u4e24\u4e2a\u6587\u672c\uff0c\u8fd4\u56de\u4e24\u4e2a\u6587\u672c\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\u9002\u5408\u76f8\u4f3c\u5ea6\u6bd4\u8f83\u7684\u573a\u666f\u3002 HTTP \u65b9\u6cd5: POST Body \u8bf7\u6c42\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u9009 \u8bf4\u660e text_1 String \u6587\u672c\u6570\u636e text_2 String \u6587\u672c\u6570\u636e \u8bf7\u6c42 Body \u793a\u4f8b { \"text_1\": \"\u6d4b\u8bd5\u6587\u672c\", \"text_2\": \"\u6d4b\u8bd5\u6587\u672c\" } \u8fd4\u56de\u53c2\u6570 \u540d\u79f0 \u7c7b\u578b \u8bf4\u660e similarity Float \u4e24\u4e2a\u6587\u672c\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff0c\u4e3a0\u52301\u533a\u95f4\u5185Float\u578b\u6570\u503c\u3002\u8d8a\u63a5\u8fd1\u4e8e1\uff0c\u4ee3\u8868\u6587\u672c\u8d8a\u76f8\u4f3c\u3002 \u8fd4\u56de\u793a\u4f8b { \"similarity\": 0.95421 }","title":"\u6587\u672c\u5bf9\u6a21\u5f0f"},{"location":"deploy-text-similarity/#_4","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"deploy-text-similarity/#api_1","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"deploy-text-similarity/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 TextSimilarity \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-text-similarity/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"\u56fe\u50cf\u7684URL\u5730\u5740\" }'","title":"cURL"},{"location":"deploy-text-similarity/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity' payload = { 'url': '\u56fe\u50cf\u7684URL\u5730\u5740' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"deploy-text-similarity/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/text_similarity\" payload = json.dumps({ \"url\": \"\u56fe\u50cf\u7684URL\u5730\u5740\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"deploy-text-similarity/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"\u56fe\u50cf\u7684URL\u5730\u5740\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/text_similarity\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"deploy-text-similarity/#_5","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u8bf4\u660e Amazon SageMaker\u76f8\u5173\u7684\u8d39\u7528\u4ec5\u9002\u7528\u4e8e\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u65b9\u6848\u3002","title":"\u6210\u672c\u9884\u4f30"},{"location":"deploy-text-similarity/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u6587\u672c\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"deploy-text-similarity/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u6587\u672c\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"deploy-text-similarity/#_6","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d \u6587\u672c\u76f8\u4f3c\u5ea6 \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 TextSimilarity \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a10 \u5206\u949f","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"deployment/","text":"\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\uff0c\u5efa\u8bae\u60a8\u5148\u67e5\u770b\u672c\u6307\u5357\u4e2d\u6709\u5173\u67b6\u6784\u56fe\u548c\u533a\u57df\u652f\u6301\u7b49\u4fe1\u606f\uff0c\u7136\u540e\u6309\u7167\u4e0b\u9762\u7684\u8bf4\u660e\u914d\u7f6e\u89e3\u51b3\u65b9\u6848\u5e76\u5c06\u5176\u90e8\u7f72\u5230\u60a8\u7684\u5e10\u6237\u4e2d\u3002 \u90e8\u7f72\u65f6\u95f4 \u90e8\u7f72\u57fa\u4e8eAWS Lambda\u67b6\u6784\u7684AI\u529f\u80fd\uff1a\u7ea6 10 \u5206\u949f \u90e8\u7f72\u57fa\u4e8eAmazon SageMaker\u67b6\u6784\u7684AI\u529f\u80fd\uff1a\u7ea6 20 \u5206\u949f \u524d\u63d0\u6761\u4ef6 \u5982\u679c\u60a8\u9009\u62e9\u4ece\u4e2d\u56fd\u533a\u57df\u542f\u52a8\u5806\u6808\uff0c\u8bf7\u786e\u8ba4\u5df2\u6709ICP\u5907\u6848\u7684\u57df\u540d\u3002\u8be6\u60c5\u53ef\u53c2\u8003 ICP\u5907\u6848\u6307\u5357 \u3002 \u542f\u52a8\u5806\u6808 \u767b\u5f55\u5230AWS\u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u9009\u62e9\u94fe\u63a5\u521b\u5efaAWS CloudFormation\u6a21\u677f\u3002 \u4e2d\u56fd\u533a\u57df\u94fe\u63a5 \u5168\u7403\u533a\u57df\u94fe\u63a5 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u6a21\u677f\u5c06\u5728\u60a8\u767b\u5f55\u63a7\u5236\u53f0\u540e\u9ed8\u8ba4\u7684\u533a\u57df\u542f\u52a8\u3002\u82e5\u9700\u5728\u6307\u5b9a\u7684Amazon Web Service\u533a\u57df\u4e2d\u542f\u52a8\u8be5\u89e3\u51b3\u65b9\u6848\uff0c\u8bf7\u5728\u63a7\u5236\u53f0\u5bfc\u822a\u680f\u4e2d\u7684\u533a\u57df\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u3002 \u5728 \u521b\u5efa\u5806\u6808 \u9875\u9762\u4e0a\uff0c\u786e\u8ba4Amazon S3 URL\u6587\u672c\u6846\u4e2d\u663e\u793a\u6b63\u786e\u7684\u6a21\u677fURL\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u6307\u5b9a\u5806\u6808\u8be6\u7ec6\u4fe1\u606f \u9875\u9762\uff0c\u4e3a\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u5806\u6808\u5206\u914d\u4e00\u4e2a\u8d26\u6237\u5185\u552f\u4e00\u4e14\u7b26\u5408\u547d\u540d\u8981\u6c42\u7684\u540d\u79f0\u3002 \u5728 \u53c2\u6570 \u90e8\u5206\uff0c\u6839\u636e\u9700\u8981\u4fee\u6539\u901a\u7528\u914d\u7f6e\u5e76\u9009\u62e9\u9700\u8981\u90e8\u7f72\u7684AI\u529f\u80fd\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u60a8\u53ef\u4ee5\u9009\u62e9\u662f\u5426\u90e8\u7f72API\u8d44\u6e90\u6d4f\u89c8\u5668\uff0c\u5e76\u9009\u62e9API\u7f51\u5173\u7684\u8ba4\u8bc1\u65b9\u5f0f\u3002 \u53c2\u6570\u540d\u79f0 \u9ed8\u8ba4\u503c \u63cf\u8ff0 APIExplorer yes \u9ed8\u8ba4\u503c\u4e3ayes\uff0c\u90e8\u7f72 API\u8d44\u6e90\u6d4f\u89c8\u5668 \uff0c\u901a\u8fc7\u53ef\u89c6\u5316\u6587\u6863\u4fbf\u4e8e\u67e5\u770bAPI\u5b9a\u4e49\u4e0e\u6d4b\u8bd5\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 API\u53c2\u8003\u6307\u5357 \u3002\u5982\u679c\u9009\u62e9no\uff0c\u5219API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 APIGatewayAuthorization NONE API\u7f51\u5173\u7684\u8ba4\u8bc1\u65b9\u5f0f\u3002\u9ed8\u8ba4\u4e3a NONE \uff0c\u5373\u65e0\u6743\u9650\u8ba4\u8bc1\u65b9\u5f0f\u3002\u60a8\u8fd8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 IAM \u6743\u9650\u63a7\u5236\u5bf9API\u7684\u8bbf\u95ee\u3002 APIGatewayStageName prod API\u7f51\u5173\uff08URI\uff09\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8def\u5f84\u5b57\u6bb5\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u9636\u6bb5\u53d8\u91cf \u3002 \u60a8\u53ef\u4ee5\u66f4\u6539AI\u529f\u80fd\u7684\u53c2\u6570\u4e3ayes\uff0c\u90e8\u7f72\u9700\u8981\u7684AI\u529f\u80fd\u3002AI\u529f\u80fd\u7684\u53c2\u6570\u9ed8\u8ba4\u503c\u5747\u4e3ano\u3002 \u53c2\u6570\u540d\u79f0 \u9ed8\u8ba4\u503c \u63cf\u8ff0 General OCR - Simplified Chinese no \u90e8\u7f72 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09 General OCR - Traditional Chinese no \u90e8\u7f72 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 Custom Template OCR no \u90e8\u7f72 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b Car License Plate no \u90e8\u7f72 \u8f66\u724c\u4fe1\u606f\u8bc6\u522b Face Comparison no \u90e8\u7f72 \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 Face Detection no \u90e8\u7f72 \u4eba\u8138\u8bc6\u522b Human Attribute Recognition no \u90e8\u7f72 \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 Human Image Segmentation no \u90e8\u7f72 \u667a\u80fd\u4eba\u50cf\u5206\u5272 Image Similarity no \u90e8\u7f72 \u56fe\u7247\u76f8\u4f3c\u5ea6 Object Recognition no \u90e8\u7f72 \u901a\u7528\u7269\u4f53\u8bc6\u522b Pornography Detection no \u90e8\u7f72 \u8272\u60c5\u5185\u5bb9\u5ba1\u6838 Image Super Resolution no \u90e8\u7f72 \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 Text Similarity no \u90e8\u7f72 \u6587\u672c\u76f8\u4f3c\u5ea6 \u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u5ba1\u6838 \u9875\u9762\uff0c\u67e5\u770b\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u786e\u4fdd\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efaAmazon Identity and Access Management\uff08IAM\uff09\u8d44\u6e90\u7684\u590d\u9009\u6846\u3002\u5e76\u786e\u4fdd\u9009\u4e2dAWS CloudFormation\u9700\u8981\u7684\u5176\u5b83\u529f\u80fd\u7684\u590d\u9009\u6846\u3002\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u9009\u62e9 \u521b\u5efa\u5806\u6808 \u4ee5\u90e8\u7f72\u5806\u6808\u3002 \u60a8\u53ef\u4ee5\u5728AWS CloudFormation\u63a7\u5236\u53f0\u7684 \u72b6\u6001 \u5217\u4e2d\u67e5\u770b\u5806\u6808\u7684\u72b6\u6001\u3002\u521b\u5efa\u5b8c\u6210\u540e\u5373\u53ef\u770b\u5230\u72b6\u6001\u4e3a CREATE_COMPLETE \u3002 \u540e\u7eed\u64cd\u4f5c \u5806\u6808\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728AWS CloudFormation\u7684 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\u4e2d\u901a\u8fc7\u5bf9\u5e94 \u53c2\u6570ID \u67e5\u8be2\u57fa\u4e8eAmazon API Gateway\u7684\u8c03\u7528URL\u3002 \u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u67e5\u770bAPI\u5e76\u6d4b\u8bd5API\u8c03\u7528\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 API\u53c2\u8003\u6307\u5357 \u3002 \u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u66f4\u65b0CloudFormation\u5806\u6808 \u3002","title":"\u542f\u52a8CloudFormation\u5806\u6808"},{"location":"deployment/#_1","text":"\u5982\u679c\u60a8\u9009\u62e9\u4ece\u4e2d\u56fd\u533a\u57df\u542f\u52a8\u5806\u6808\uff0c\u8bf7\u786e\u8ba4\u5df2\u6709ICP\u5907\u6848\u7684\u57df\u540d\u3002\u8be6\u60c5\u53ef\u53c2\u8003 ICP\u5907\u6848\u6307\u5357 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"deployment/#_2","text":"\u767b\u5f55\u5230AWS\u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u9009\u62e9\u94fe\u63a5\u521b\u5efaAWS CloudFormation\u6a21\u677f\u3002 \u4e2d\u56fd\u533a\u57df\u94fe\u63a5 \u5168\u7403\u533a\u57df\u94fe\u63a5 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u6a21\u677f\u5c06\u5728\u60a8\u767b\u5f55\u63a7\u5236\u53f0\u540e\u9ed8\u8ba4\u7684\u533a\u57df\u542f\u52a8\u3002\u82e5\u9700\u5728\u6307\u5b9a\u7684Amazon Web Service\u533a\u57df\u4e2d\u542f\u52a8\u8be5\u89e3\u51b3\u65b9\u6848\uff0c\u8bf7\u5728\u63a7\u5236\u53f0\u5bfc\u822a\u680f\u4e2d\u7684\u533a\u57df\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u3002 \u5728 \u521b\u5efa\u5806\u6808 \u9875\u9762\u4e0a\uff0c\u786e\u8ba4Amazon S3 URL\u6587\u672c\u6846\u4e2d\u663e\u793a\u6b63\u786e\u7684\u6a21\u677fURL\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u6307\u5b9a\u5806\u6808\u8be6\u7ec6\u4fe1\u606f \u9875\u9762\uff0c\u4e3a\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u5806\u6808\u5206\u914d\u4e00\u4e2a\u8d26\u6237\u5185\u552f\u4e00\u4e14\u7b26\u5408\u547d\u540d\u8981\u6c42\u7684\u540d\u79f0\u3002 \u5728 \u53c2\u6570 \u90e8\u5206\uff0c\u6839\u636e\u9700\u8981\u4fee\u6539\u901a\u7528\u914d\u7f6e\u5e76\u9009\u62e9\u9700\u8981\u90e8\u7f72\u7684AI\u529f\u80fd\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u60a8\u53ef\u4ee5\u9009\u62e9\u662f\u5426\u90e8\u7f72API\u8d44\u6e90\u6d4f\u89c8\u5668\uff0c\u5e76\u9009\u62e9API\u7f51\u5173\u7684\u8ba4\u8bc1\u65b9\u5f0f\u3002 \u53c2\u6570\u540d\u79f0 \u9ed8\u8ba4\u503c \u63cf\u8ff0 APIExplorer yes \u9ed8\u8ba4\u503c\u4e3ayes\uff0c\u90e8\u7f72 API\u8d44\u6e90\u6d4f\u89c8\u5668 \uff0c\u901a\u8fc7\u53ef\u89c6\u5316\u6587\u6863\u4fbf\u4e8e\u67e5\u770bAPI\u5b9a\u4e49\u4e0e\u6d4b\u8bd5\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 API\u53c2\u8003\u6307\u5357 \u3002\u5982\u679c\u9009\u62e9no\uff0c\u5219API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 APIGatewayAuthorization NONE API\u7f51\u5173\u7684\u8ba4\u8bc1\u65b9\u5f0f\u3002\u9ed8\u8ba4\u4e3a NONE \uff0c\u5373\u65e0\u6743\u9650\u8ba4\u8bc1\u65b9\u5f0f\u3002\u60a8\u8fd8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 IAM \u6743\u9650\u63a7\u5236\u5bf9API\u7684\u8bbf\u95ee\u3002 APIGatewayStageName prod API\u7f51\u5173\uff08URI\uff09\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8def\u5f84\u5b57\u6bb5\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u9636\u6bb5\u53d8\u91cf \u3002 \u60a8\u53ef\u4ee5\u66f4\u6539AI\u529f\u80fd\u7684\u53c2\u6570\u4e3ayes\uff0c\u90e8\u7f72\u9700\u8981\u7684AI\u529f\u80fd\u3002AI\u529f\u80fd\u7684\u53c2\u6570\u9ed8\u8ba4\u503c\u5747\u4e3ano\u3002 \u53c2\u6570\u540d\u79f0 \u9ed8\u8ba4\u503c \u63cf\u8ff0 General OCR - Simplified Chinese no \u90e8\u7f72 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7b80\u4f53\u4e2d\u6587\uff09 General OCR - Traditional Chinese no \u90e8\u7f72 \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 Custom Template OCR no \u90e8\u7f72 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b Car License Plate no \u90e8\u7f72 \u8f66\u724c\u4fe1\u606f\u8bc6\u522b Face Comparison no \u90e8\u7f72 \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 Face Detection no \u90e8\u7f72 \u4eba\u8138\u8bc6\u522b Human Attribute Recognition no \u90e8\u7f72 \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 Human Image Segmentation no \u90e8\u7f72 \u667a\u80fd\u4eba\u50cf\u5206\u5272 Image Similarity no \u90e8\u7f72 \u56fe\u7247\u76f8\u4f3c\u5ea6 Object Recognition no \u90e8\u7f72 \u901a\u7528\u7269\u4f53\u8bc6\u522b Pornography Detection no \u90e8\u7f72 \u8272\u60c5\u5185\u5bb9\u5ba1\u6838 Image Super Resolution no \u90e8\u7f72 \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 Text Similarity no \u90e8\u7f72 \u6587\u672c\u76f8\u4f3c\u5ea6 \u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u5ba1\u6838 \u9875\u9762\uff0c\u67e5\u770b\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u786e\u4fdd\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efaAmazon Identity and Access Management\uff08IAM\uff09\u8d44\u6e90\u7684\u590d\u9009\u6846\u3002\u5e76\u786e\u4fdd\u9009\u4e2dAWS CloudFormation\u9700\u8981\u7684\u5176\u5b83\u529f\u80fd\u7684\u590d\u9009\u6846\u3002\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u9009\u62e9 \u521b\u5efa\u5806\u6808 \u4ee5\u90e8\u7f72\u5806\u6808\u3002 \u60a8\u53ef\u4ee5\u5728AWS CloudFormation\u63a7\u5236\u53f0\u7684 \u72b6\u6001 \u5217\u4e2d\u67e5\u770b\u5806\u6808\u7684\u72b6\u6001\u3002\u521b\u5efa\u5b8c\u6210\u540e\u5373\u53ef\u770b\u5230\u72b6\u6001\u4e3a CREATE_COMPLETE \u3002","title":"\u542f\u52a8\u5806\u6808"},{"location":"deployment/#_3","text":"\u5806\u6808\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728AWS CloudFormation\u7684 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\u4e2d\u901a\u8fc7\u5bf9\u5e94 \u53c2\u6570ID \u67e5\u8be2\u57fa\u4e8eAmazon API Gateway\u7684\u8c03\u7528URL\u3002 \u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u67e5\u770bAPI\u5e76\u6d4b\u8bd5API\u8c03\u7528\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 API\u53c2\u8003\u6307\u5357 \u3002 \u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u66f4\u65b0CloudFormation\u5806\u6808 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"faq/","text":"\u5728\u4e2d\u56fd\u533a\u57df\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u5f00\u901aICP\u5907\u6848\uff1f \u672c\u89e3\u51b3\u65b9\u6848\u4f7f\u7528Amazon API Gateway\u6765\u63a5\u6536API\u8c03\u7528\u8bf7\u6c42\uff0c\u6240\u4ee5\u5982\u679c\u60a8\u5e0c\u671b\u5728\u4e2d\u56fd\u533a\u57df\u63d0\u4f9b\u65e0\u9700\u8eab\u4efd\u9a8c\u8bc1\u5373\u53ef\u8bbf\u95ee\u7684API\u8bf7\u6c42\uff0c\u9700\u8981\u7533\u8bf7\u5e76\u786e\u4fdd\u60a8\u7684AWS\u8d26\u53f7\u5df2\u901a\u8fc7Internet Content Provider (ICP) \u5907\u6848\uff0c80/443\u7aef\u53e3\u53ef\u4ee5\u6b63\u5e38\u5f00\u542f\u3002\u5177\u4f53\u6d41\u7a0b\u53ef\u53c2\u89c1 ICP\u5907\u6848\u6307\u5357 \u3002 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9047\u5230 The account-level service limit 'ml.g4dn.xlarge for endpoint usage' is 0 Instances \uff0c\u5982\u4f55\u89e3\u51b3\uff1f \u65b9\u6848\u4e2d\u7684\u8d85\u5206\u8fa8\u7387API\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u57fa\u4e8e Amazon SageMaker \u7684GPU\u7c7b\u578b\u5b9e\u4f8b\uff0c\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2d\u5bf9\u5e94\u5b9e\u4f8b\u9650\u5236\u4e0d\u8db3\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u529f\u80fd\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Amazon SageMaker \u670d\u52a1\u7684\u5b9e\u4f8b\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605\uff1a \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d\uff08\u76ee\u524d\u6b64\u5185\u5bb9\u4ec5\u4f7f\u7528\u82f1\u8bed\u663e\u793a\uff09 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9047\u5230 Resource handler returned message: \"'MemorySize' value failed to satisfy constraint: Member must have value less than or equal to 3008 \uff0c\u5982\u4f55\u89e3\u51b3\uff1f \u65b9\u6848\u4e2d\u9ed8\u8ba4\u7684 AWS Lambda \u5185\u5b58\u7ea6\u4e3a4GB\uff084096 MB\uff09\uff0c\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2dAWS Lambda\u51fd\u6570\u9650\u5236\u4f4e\u4e8e4096 MB\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Lambda \u670d\u52a1\u7684\u5185\u5b58\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605\uff1a \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d\uff08\u76ee\u524d\u6b64\u5185\u5bb9\u4ec5\u4f7f\u7528\u82f1\u8bed\u663e\u793a\uff09 \u4f7f\u7528\u89e3\u51b3\u65b9\u6848\u90fd\u9700\u8981\u54ea\u4e9bAWS Identity and Access Management (IAM)\u6743\u9650\uff1f \u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u4e4b\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7Amazon API Gateway\u8c03\u7528API\uff0c\u9700\u8981\u7684\u6743\u9650\u5982\u4e0b\u3002\u5176\u4e2d sagemaker: \u4ec5\u9650\u4e8e \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 API\u3002 Actions apigateway:DELETE apigateway:GET apigateway:PATCH apigateway:POST apigateway:PUT cloudformation:CancelUpdateStack cloudformation:ContinueUpdateRollback cloudformation:CreateChangeSet cloudformation:CreateStack cloudformation:DeleteStack cloudformation:DescribeChangeSet cloudformation:DescribeStackEvents cloudformation:DescribeStackResources cloudformation:DescribeStacks cloudformation:GetStackPolicy cloudformation:GetTemplateSummary cloudformation:ListChangeSets cloudformation:ListStackResources cloudformation:ListStacks cloudformation:RollbackStack cloudformation:UpdateStack cloudformation:UpdateStackSet ecr:BatchCheckLayerAvailability ecr:BatchDeleteImage ecr:BatchGetImage ecr:CreateRepository ecr:DeleteRepository ecr:DescribeRepositories ecr:GetDownloadUrlForLayer ecr:GetRepositoryPolicy ecr:InitiateLayerUpload ecr:PutImage ecr:SetRepositoryPolicy iam:AttachRolePolicy iam:CreateRole iam:DeleteRole iam:DeleteRolePolicy iam:DetachRolePolicy iam:GetRole iam:ListRoles iam:PassRole iam:PutRolePolicy lambda:AddPermission lambda:CreateFunction lambda:DeleteFunction lambda:GetFunction lambda:InvokeFunction lambda:RemovePermission lambda:UpdateFunctionConfiguration s3:GetObject sagemaker:CreateEndpoint sagemaker:CreateEndpointConfig sagemaker:CreateModel sagemaker:DeleteEndpoint sagemaker:DeleteEndpointConfig sagemaker:DeleteModel sagemaker:DescribeEndpoint sagemaker:DescribeEndpointConfig sagemaker:DescribeModel sagemaker:InvokeEndpoint sns:ListTopics \u5982\u4f55\u7edf\u4e00\u5207\u6362Amazon API Gateway\u4e2dAPI\u7684\u8bbf\u95ee\u8ba4\u8bc1\u65b9\u5f0f\uff1f \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u66f4\u65b0\u5806\u6808\uff0c\u4ece\u800c\u7edf\u4e00\u4fee\u6539\u73b0\u6709\u8d44\u6e90\u7684\u5c5e\u6027\u3002 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u90e8\u7f72\u5b8c\u6210\u7684\u65b9\u6848\u6839\u5806\u6808\u3002 \u5728 \u5806\u6808\u8be6\u7ec6\u4fe1\u606f \u9875\u9762\uff0c\u9009\u62e9 \u66f4\u65b0 \u3002 \u5728 \u6307\u5b9a\u6a21\u677f \u9875\u9762\uff0c\u9009\u62e9 \u4f7f\u7528\u5f53\u524d\u6a21\u677f \uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728\u6a21\u677f\u53c2\u6570\u90e8\u5206\uff0c\u4fee\u6539 API Gateway Authorization \u53c2\u6570\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u5ba1\u6838 \u9875\u9762\uff0c\u67e5\u770b\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u786e\u4fdd\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efaAmazon Identity and Access Management\uff08IAM\uff09\u8d44\u6e90\u7684\u590d\u9009\u6846\u3002\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u786e\u8ba4\u66f4\u6539\uff0c\u5e76\u9009\u62e9 \u66f4\u65b0\u5806\u6808 \u3002 \u5982\u4f55\u5355\u72ec\u5207\u6362Amazon API Gateway\u4e2dAPI\u7684\u8bbf\u95ee\u8ba4\u8bc1\u65b9\u5f0f\uff1f \u8bbf\u95ee Amazon API Gateway\u63a7\u5236\u53f0 \u3002 \u4eceAPI\u5217\u8868\u4e2d\u9009\u62e9\u6700\u65b0\u521b\u5efa\u7684\u65b9\u6848API\uff0c\u6253\u5f00API\u9875\u9762\u3002\u60a8\u4e5f\u53ef\u4ee5\u6309 \u5df2\u521b\u5efa \u7684\u65f6\u95f4\u6392\u5e8f\uff0c\u4fbf\u4e8e\u67e5\u627e\u3002 \u5c55\u5f00\u8d44\u6e90\u6811\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u8bbf\u95ee\u6743\u9650\u7684\u8d44\u6e90\u8def\u5f84\u4e0b\u7684 OPTIONS \u8282\u70b9\uff0c\u70b9\u51fb\u8be5\u8282\u70b9\u6253\u5f00 \u65b9\u6cd5\u6267\u884c \u914d\u7f6e\u9875\u9762\u3002 \u70b9\u51fb\u4e0b\u65b9\u7684 \u65b9\u6cd5\u8bf7\u6c42 \u94fe\u63a5\u3002 \u70b9\u51fb \u6388\u6743 \u53f3\u4fa7\u7684\u7f16\u8f91\u6309\u94ae\uff0c\u5c55\u5f00\u4e0b\u62c9\u5217\u8868\uff0c\u9009\u62e9 Amazon IAM \u3002 \u70b9\u51fb \u66f4\u65b0 \u6309\u94ae\u5b8c\u6210\u4fee\u6539\u3002\u66f4\u65b0\u5b8c\u6210\u540e\uff0c\u6388\u6743\u9879\u5e94\u663e\u793a\u4e3a Amazon IAM \u3002 \u70b9\u51fb\u8d44\u6e90\u6811\u4e2d OPTIONS \u4e0b\u65b9 POST \u6309\u94ae\uff0c\u548c\u4fee\u6539OPTIONS\u7684\u65b9\u6cd5\u4e00\u6837\uff0c\u5728\u65b9\u6cd5\u8bf7\u6c42\u4e2d\u5c06\u6388\u6743\u65b9\u5f0f\u4fee\u6539\u4e3a Amazon IAM \u3002 \u70b9\u51fb\u65b9\u6cd5\u6267\u884c\u5de6\u4fa7\u7684 \u64cd\u4f5c \u4e0b\u62c9\u5217\u8868\uff0c\u9009\u62e9 API\u64cd\u4f5c \u4e2d\u7684 \u90e8\u7f72 API \u9009\u9879\u3002 \u5728 \u90e8\u7f72API \u5bf9\u8bdd\u6846\uff0c\u9009\u62e9 prod \u6216\u81ea\u5b9a\u4e49\u540d\u79f0\u7684\u90e8\u7f72\u9636\u6bb5\uff0c\u8bf7\u4e0d\u8981\u9009\u62e9[\u65b0\u9636\u6bb5]\uff0c\u7136\u540e\u70b9\u51fb\u4e0b\u65b9\u90e8\u7f72\u6309\u94ae\u5b8c\u6210\u90e8\u7f72\u3002 \u5982\u4f55\u521b\u5efa\u548c\u4f7f\u7528\u5e26API\u5bc6\u94a5\u7684\u4f7f\u7528\u8ba1\u5212\uff1f \u672c\u89e3\u51b3\u65b9\u6848\u652f\u6301API\u4f7f\u7528\u8ba1\u5212\uff08Usage Plans\uff09\u3002\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u5e76\u6d4b\u8bd5API\u540e\uff0c\u60a8\u53ef\u4ee5\u5b9e\u65bdAPI Gateway\u4f7f\u7528\u8ba1\u5212\uff0c\u5c06\u5b83\u4eec\u4f5c\u4e3a\u9762\u5411\u5ba2\u6237\u7684\u4ea7\u54c1/\u670d\u52a1\u63d0\u4f9b\u3002\u60a8\u53ef\u4ee5\u914d\u7f6e\u4f7f\u7528\u8ba1\u5212\u548cAPI\u5bc6\u94a5\uff0c\u4ee5\u5141\u8bb8\u5ba2\u6237\u6309\u7167\u5546\u5b9a\u7684\u53ef\u6ee1\u8db3\u5176\u4e1a\u52a1\u9700\u6c42\u548c\u9884\u7b97\u9650\u5236\u7684\u8bf7\u6c42\u901f\u7387\u548c\u914d\u989d\u6765\u8bbf\u95ee\u9009\u5b9aAPI\u3002 \u5982\u679c\u9700\u8981\u7684\u8bdd\uff0c\u60a8\u53ef\u4ee5\u4e3aAPI\u8bbe\u7f6e\u9ed8\u8ba4\u65b9\u6cd5\u7ea7\u522b\u9650\u5236\u6216\u4e3a\u5355\u4e2aAPI\u65b9\u6cd5\u8bbe\u7f6e\u9650\u5236\u3002API\u8c03\u7528\u65b9\u5fc5\u987b\u5728API\u8bf7\u6c42\u7684x-api-key\u6807\u5934\u4e2d\u63d0\u4f9b\u4e00\u4e2a\u5df2\u5206\u914d\u7684API\u5bc6\u94a5\u3002 \u5982\u60a8\u9700\u8981\u914d\u7f6e API\u4f7f\u7528\u8ba1\u5212 \uff0c\u8bf7\u53c2\u8003 \u914d\u7f6e\u4f7f\u7528\u8ba1\u5212 \u3002","title":"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54"},{"location":"faq/#icp","text":"\u672c\u89e3\u51b3\u65b9\u6848\u4f7f\u7528Amazon API Gateway\u6765\u63a5\u6536API\u8c03\u7528\u8bf7\u6c42\uff0c\u6240\u4ee5\u5982\u679c\u60a8\u5e0c\u671b\u5728\u4e2d\u56fd\u533a\u57df\u63d0\u4f9b\u65e0\u9700\u8eab\u4efd\u9a8c\u8bc1\u5373\u53ef\u8bbf\u95ee\u7684API\u8bf7\u6c42\uff0c\u9700\u8981\u7533\u8bf7\u5e76\u786e\u4fdd\u60a8\u7684AWS\u8d26\u53f7\u5df2\u901a\u8fc7Internet Content Provider (ICP) \u5907\u6848\uff0c80/443\u7aef\u53e3\u53ef\u4ee5\u6b63\u5e38\u5f00\u542f\u3002\u5177\u4f53\u6d41\u7a0b\u53ef\u53c2\u89c1 ICP\u5907\u6848\u6307\u5357 \u3002","title":"\u5728\u4e2d\u56fd\u533a\u57df\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u5f00\u901aICP\u5907\u6848\uff1f"},{"location":"faq/#the-account-level-service-limit-mlg4dnxlarge-for-endpoint-usage-is-0-instances","text":"\u65b9\u6848\u4e2d\u7684\u8d85\u5206\u8fa8\u7387API\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u57fa\u4e8e Amazon SageMaker \u7684GPU\u7c7b\u578b\u5b9e\u4f8b\uff0c\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2d\u5bf9\u5e94\u5b9e\u4f8b\u9650\u5236\u4e0d\u8db3\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u529f\u80fd\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Amazon SageMaker \u670d\u52a1\u7684\u5b9e\u4f8b\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605\uff1a \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d\uff08\u76ee\u524d\u6b64\u5185\u5bb9\u4ec5\u4f7f\u7528\u82f1\u8bed\u663e\u793a\uff09","title":"\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9047\u5230The account-level service limit 'ml.g4dn.xlarge for endpoint usage' is 0 Instances\uff0c\u5982\u4f55\u89e3\u51b3\uff1f"},{"location":"faq/#resource-handler-returned-message-memorysize-value-failed-to-satisfy-constraint-member-must-have-value-less-than-or-equal-to-3008","text":"\u65b9\u6848\u4e2d\u9ed8\u8ba4\u7684 AWS Lambda \u5185\u5b58\u7ea6\u4e3a4GB\uff084096 MB\uff09\uff0c\u5982\u679c\u60a8AWS\u8d26\u6237\u4e2dAWS Lambda\u51fd\u6570\u9650\u5236\u4f4e\u4e8e4096 MB\uff0c\u5219\u4f1a\u5bfc\u81f4\u8be5\u90e8\u7f72\u5f02\u5e38\u3002\u60a8\u53ef\u4ee5\u5728AWS\u7ba1\u7406\u63a7\u5236\u53f0\u4e0a\u65b9\u5de5\u5177\u680f\u70b9\u51fb \u652f\u6301\u4e2d\u5fc3 \uff0c\u521b\u5efa\u652f\u6301\u5de5\u5355\uff0c\u8981\u6c42\u63d0\u9ad8 Lambda \u670d\u52a1\u7684\u5185\u5b58\u9650\u989d\u3002\u5177\u4f53\u6b65\u9aa4\u8bf7\u53c2\u9605\uff1a \u8bf7\u6c42\u63d0\u9ad8\u914d\u989d\uff08\u76ee\u524d\u6b64\u5185\u5bb9\u4ec5\u4f7f\u7528\u82f1\u8bed\u663e\u793a\uff09","title":"\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9047\u5230Resource handler returned message: \"'MemorySize' value failed to satisfy constraint: Member must have value less than or equal to 3008\uff0c\u5982\u4f55\u89e3\u51b3\uff1f"},{"location":"faq/#aws-identity-and-access-management-iam","text":"\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u4e4b\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7Amazon API Gateway\u8c03\u7528API\uff0c\u9700\u8981\u7684\u6743\u9650\u5982\u4e0b\u3002\u5176\u4e2d sagemaker: \u4ec5\u9650\u4e8e \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 API\u3002 Actions apigateway:DELETE apigateway:GET apigateway:PATCH apigateway:POST apigateway:PUT cloudformation:CancelUpdateStack cloudformation:ContinueUpdateRollback cloudformation:CreateChangeSet cloudformation:CreateStack cloudformation:DeleteStack cloudformation:DescribeChangeSet cloudformation:DescribeStackEvents cloudformation:DescribeStackResources cloudformation:DescribeStacks cloudformation:GetStackPolicy cloudformation:GetTemplateSummary cloudformation:ListChangeSets cloudformation:ListStackResources cloudformation:ListStacks cloudformation:RollbackStack cloudformation:UpdateStack cloudformation:UpdateStackSet ecr:BatchCheckLayerAvailability ecr:BatchDeleteImage ecr:BatchGetImage ecr:CreateRepository ecr:DeleteRepository ecr:DescribeRepositories ecr:GetDownloadUrlForLayer ecr:GetRepositoryPolicy ecr:InitiateLayerUpload ecr:PutImage ecr:SetRepositoryPolicy iam:AttachRolePolicy iam:CreateRole iam:DeleteRole iam:DeleteRolePolicy iam:DetachRolePolicy iam:GetRole iam:ListRoles iam:PassRole iam:PutRolePolicy lambda:AddPermission lambda:CreateFunction lambda:DeleteFunction lambda:GetFunction lambda:InvokeFunction lambda:RemovePermission lambda:UpdateFunctionConfiguration s3:GetObject sagemaker:CreateEndpoint sagemaker:CreateEndpointConfig sagemaker:CreateModel sagemaker:DeleteEndpoint sagemaker:DeleteEndpointConfig sagemaker:DeleteModel sagemaker:DescribeEndpoint sagemaker:DescribeEndpointConfig sagemaker:DescribeModel sagemaker:InvokeEndpoint sns:ListTopics","title":"\u4f7f\u7528\u89e3\u51b3\u65b9\u6848\u90fd\u9700\u8981\u54ea\u4e9bAWS Identity and Access Management (IAM)\u6743\u9650\uff1f"},{"location":"faq/#amazon-api-gatewayapi","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u66f4\u65b0\u5806\u6808\uff0c\u4ece\u800c\u7edf\u4e00\u4fee\u6539\u73b0\u6709\u8d44\u6e90\u7684\u5c5e\u6027\u3002 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u90e8\u7f72\u5b8c\u6210\u7684\u65b9\u6848\u6839\u5806\u6808\u3002 \u5728 \u5806\u6808\u8be6\u7ec6\u4fe1\u606f \u9875\u9762\uff0c\u9009\u62e9 \u66f4\u65b0 \u3002 \u5728 \u6307\u5b9a\u6a21\u677f \u9875\u9762\uff0c\u9009\u62e9 \u4f7f\u7528\u5f53\u524d\u6a21\u677f \uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728\u6a21\u677f\u53c2\u6570\u90e8\u5206\uff0c\u4fee\u6539 API Gateway Authorization \u53c2\u6570\uff0c\u7136\u540e\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u5728 \u5ba1\u6838 \u9875\u9762\uff0c\u67e5\u770b\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u786e\u4fdd\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efaAmazon Identity and Access Management\uff08IAM\uff09\u8d44\u6e90\u7684\u590d\u9009\u6846\u3002\u9009\u62e9 \u4e0b\u4e00\u6b65 \u3002 \u786e\u8ba4\u66f4\u6539\uff0c\u5e76\u9009\u62e9 \u66f4\u65b0\u5806\u6808 \u3002","title":"\u5982\u4f55\u7edf\u4e00\u5207\u6362Amazon API Gateway\u4e2dAPI\u7684\u8bbf\u95ee\u8ba4\u8bc1\u65b9\u5f0f\uff1f"},{"location":"faq/#amazon-api-gatewayapi_1","text":"\u8bbf\u95ee Amazon API Gateway\u63a7\u5236\u53f0 \u3002 \u4eceAPI\u5217\u8868\u4e2d\u9009\u62e9\u6700\u65b0\u521b\u5efa\u7684\u65b9\u6848API\uff0c\u6253\u5f00API\u9875\u9762\u3002\u60a8\u4e5f\u53ef\u4ee5\u6309 \u5df2\u521b\u5efa \u7684\u65f6\u95f4\u6392\u5e8f\uff0c\u4fbf\u4e8e\u67e5\u627e\u3002 \u5c55\u5f00\u8d44\u6e90\u6811\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u8bbf\u95ee\u6743\u9650\u7684\u8d44\u6e90\u8def\u5f84\u4e0b\u7684 OPTIONS \u8282\u70b9\uff0c\u70b9\u51fb\u8be5\u8282\u70b9\u6253\u5f00 \u65b9\u6cd5\u6267\u884c \u914d\u7f6e\u9875\u9762\u3002 \u70b9\u51fb\u4e0b\u65b9\u7684 \u65b9\u6cd5\u8bf7\u6c42 \u94fe\u63a5\u3002 \u70b9\u51fb \u6388\u6743 \u53f3\u4fa7\u7684\u7f16\u8f91\u6309\u94ae\uff0c\u5c55\u5f00\u4e0b\u62c9\u5217\u8868\uff0c\u9009\u62e9 Amazon IAM \u3002 \u70b9\u51fb \u66f4\u65b0 \u6309\u94ae\u5b8c\u6210\u4fee\u6539\u3002\u66f4\u65b0\u5b8c\u6210\u540e\uff0c\u6388\u6743\u9879\u5e94\u663e\u793a\u4e3a Amazon IAM \u3002 \u70b9\u51fb\u8d44\u6e90\u6811\u4e2d OPTIONS \u4e0b\u65b9 POST \u6309\u94ae\uff0c\u548c\u4fee\u6539OPTIONS\u7684\u65b9\u6cd5\u4e00\u6837\uff0c\u5728\u65b9\u6cd5\u8bf7\u6c42\u4e2d\u5c06\u6388\u6743\u65b9\u5f0f\u4fee\u6539\u4e3a Amazon IAM \u3002 \u70b9\u51fb\u65b9\u6cd5\u6267\u884c\u5de6\u4fa7\u7684 \u64cd\u4f5c \u4e0b\u62c9\u5217\u8868\uff0c\u9009\u62e9 API\u64cd\u4f5c \u4e2d\u7684 \u90e8\u7f72 API \u9009\u9879\u3002 \u5728 \u90e8\u7f72API \u5bf9\u8bdd\u6846\uff0c\u9009\u62e9 prod \u6216\u81ea\u5b9a\u4e49\u540d\u79f0\u7684\u90e8\u7f72\u9636\u6bb5\uff0c\u8bf7\u4e0d\u8981\u9009\u62e9[\u65b0\u9636\u6bb5]\uff0c\u7136\u540e\u70b9\u51fb\u4e0b\u65b9\u90e8\u7f72\u6309\u94ae\u5b8c\u6210\u90e8\u7f72\u3002","title":"\u5982\u4f55\u5355\u72ec\u5207\u6362Amazon API Gateway\u4e2dAPI\u7684\u8bbf\u95ee\u8ba4\u8bc1\u65b9\u5f0f\uff1f"},{"location":"faq/#api","text":"\u672c\u89e3\u51b3\u65b9\u6848\u652f\u6301API\u4f7f\u7528\u8ba1\u5212\uff08Usage Plans\uff09\u3002\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u5e76\u6d4b\u8bd5API\u540e\uff0c\u60a8\u53ef\u4ee5\u5b9e\u65bdAPI Gateway\u4f7f\u7528\u8ba1\u5212\uff0c\u5c06\u5b83\u4eec\u4f5c\u4e3a\u9762\u5411\u5ba2\u6237\u7684\u4ea7\u54c1/\u670d\u52a1\u63d0\u4f9b\u3002\u60a8\u53ef\u4ee5\u914d\u7f6e\u4f7f\u7528\u8ba1\u5212\u548cAPI\u5bc6\u94a5\uff0c\u4ee5\u5141\u8bb8\u5ba2\u6237\u6309\u7167\u5546\u5b9a\u7684\u53ef\u6ee1\u8db3\u5176\u4e1a\u52a1\u9700\u6c42\u548c\u9884\u7b97\u9650\u5236\u7684\u8bf7\u6c42\u901f\u7387\u548c\u914d\u989d\u6765\u8bbf\u95ee\u9009\u5b9aAPI\u3002 \u5982\u679c\u9700\u8981\u7684\u8bdd\uff0c\u60a8\u53ef\u4ee5\u4e3aAPI\u8bbe\u7f6e\u9ed8\u8ba4\u65b9\u6cd5\u7ea7\u522b\u9650\u5236\u6216\u4e3a\u5355\u4e2aAPI\u65b9\u6cd5\u8bbe\u7f6e\u9650\u5236\u3002API\u8c03\u7528\u65b9\u5fc5\u987b\u5728API\u8bf7\u6c42\u7684x-api-key\u6807\u5934\u4e2d\u63d0\u4f9b\u4e00\u4e2a\u5df2\u5206\u914d\u7684API\u5bc6\u94a5\u3002 \u5982\u60a8\u9700\u8981\u914d\u7f6e API\u4f7f\u7528\u8ba1\u5212 \uff0c\u8bf7\u53c2\u8003 \u914d\u7f6e\u4f7f\u7528\u8ba1\u5212 \u3002","title":"\u5982\u4f55\u521b\u5efa\u548c\u4f7f\u7528\u5e26API\u5bc6\u94a5\u7684\u4f7f\u7528\u8ba1\u5212\uff1f"},{"location":"include-call-url/","text":"\u8c03\u7528\u65b9\u5f0f \u8c03\u7528AI\u529f\u80fd\u7684URL\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a NONE \uff0cAPI\u5c06\u5141\u8bb8\u533f\u540d\u8bbf\u95ee\u3002 \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a AWS_IAM \uff0c\u5c06\u88ab\u8981\u6c42\u4f7f\u7528AWS IAM\u8eab\u4efd\u9a8c\u8bc1\u7684\u8c03\u7528API\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u5728Amazon API Gateway\u4e2d\u8c03\u7528REST API \u3002","title":"Include call url"},{"location":"include-call-url/#_1","text":"\u8c03\u7528AI\u529f\u80fd\u7684URL\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a NONE \uff0cAPI\u5c06\u5141\u8bb8\u533f\u540d\u8bbf\u95ee\u3002 \u5982\u679c\u60a8\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5c06\u53c2\u6570 APIGatewayAuthorization \u8bbe\u7f6e\u4e3a AWS_IAM \uff0c\u5c06\u88ab\u8981\u6c42\u4f7f\u7528AWS IAM\u8eab\u4efd\u9a8c\u8bc1\u7684\u8c03\u7528API\u3002\u8be6\u60c5\u53ef\u53c2\u89c1 \u5728Amazon API Gateway\u4e2d\u8c03\u7528REST API \u3002","title":"\u8c03\u7528\u65b9\u5f0f"},{"location":"include-deploy-code/","text":"\u5f00\u59cb\u4f7f\u7528 API\u8d44\u6e90\u6d4f\u89c8\u5668 \u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002 Postman\uff08 AWS_IAM \u8ba4\u8bc1\uff09 \u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 {{ no such element: dict object['feature_id'] }} \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"{{ no such element: dict object['sample_image'] }}\" } cURL Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"{{ no such element: dict object['sample_image'] }}\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"{{ no such element: dict object['sample_image'] }}\" }' Python\uff08 AWS_IAM \u8ba4\u8bc1\uff09 import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}' payload = { 'url': '{{ no such element: dict object['sample_image'] }}' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text)) Python\uff08 NONE \u8ba4\u8bc1\uff09 import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}\" payload = json.dumps({ \"url\": \"{{ no such element: dict object['sample_image'] }}\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text) Java OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"{{ no such element: dict object['sample_image'] }}\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Include deploy code"},{"location":"include-deploy-code/#_1","text":"","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"include-deploy-code/#api","text":"\u524d\u63d0\u6761\u4ef6 \u901a\u8fc7AWS CloudFormation \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u65f6\uff0c\u60a8\u9700\u8981\uff1a \u8bbe\u7f6e\u53c2\u6570 API Explorer \u4e3a yes \u3002 \u8bbe\u7f6e\u53c2\u6570 API Gateway Authorization \u4e3a NONE \u3002 \u5426\u5219\uff0c\u5728API\u8d44\u6e90\u6d4f\u89c8\u5668\u4e2d\u53ea\u80fd\u770b\u5230\u8be5API\u7684\u53c2\u8003\u5b9a\u4e49\uff0c\u800c\u4e0d\u80fd\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u7b49\u64cd\u4f5c\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684 \u6839\u5806\u6808 \uff0c\u800c\u4e0d\u662f\u5d4c\u5957\u5806\u6808\u3002\u5217\u8868\u4e2d\u5d4c\u5957\u5806\u6808\u7684\u540d\u79f0\u65c1\u8fb9\u4f1a\u663e\u793a\u5d4c\u5957\uff08NESTED\uff09\u3002 \u6253\u5f00 \u8f93\u51fa\uff08Outputs\uff09 \u6807\u7b7e\u9875\uff0c\u627e\u5230 APIExplorer \u5bf9\u5e94\u7684URL\u3002 \u70b9\u51fbURL\u8bbf\u95eeAPI\u8d44\u6e90\u6d4f\u89c8\u5668\u3002\u9875\u9762\u5c06\u663e\u793a\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u65f6\u9009\u4e2d\u7684API\u3002 \u70b9\u51fbAPI\u53f3\u4fa7\u7684\u5411\u4e0b\u7bad\u5934\uff0c\u5c55\u5f00\u663e\u793aAPI\u6807\u51c6\u6a21\u578b\u7684\u8bf7\u6c42\u65b9\u6cd5\u3002 \u70b9\u51fb\u53f3\u4fa7\u7684\u6d4b\u8bd5\uff08Try it out\uff09\u6309\u94ae\uff0c\u5e76\u5728Request body\u4e2d\u8f93\u5165\u6b63\u786e\u7684Body\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c\u3002 \u786e\u8ba4\u683c\u5f0f\u6b63\u786e\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684 Execute \u3002 \u5728 Responses body \u4e2d\u67e5\u770b\u8fd4\u56de\u7684JSON\u7ed3\u679c\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u590d\u5236\u6216\u4e0b\u8f7d\u6309\u94ae\u4fdd\u5b58\u5904\u7406\u7ed3\u679c\u3002 \u5728 Response headers \u4e2d\u67e5\u770b\u54cd\u5e94\u5934\u7684\u76f8\u5173\u4fe1\u606f\u3002 \uff08\u53ef\u9009\uff09\u70b9\u51fb Execute \u53f3\u4fa7 Clear \u6309\u94ae\uff0c\u5373\u53ef\u6e05\u7a7a Request body \u4e0e Responses \u6d4b\u8bd5\u7ed3\u679c\u3002","title":"API\u8d44\u6e90\u6d4f\u89c8\u5668"},{"location":"include-deploy-code/#postmanaws_iam","text":"\u8bbf\u95ee AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u4ee5 {{ no such element: dict object['feature_id'] }} \u4e3a\u524d\u7f00\u7684URL\u3002 \u5728Postman\u4e2d\u65b0\u5efa\u6807\u7b7e\u9875\uff0c\u5e76\u628aURL\u7c98\u8d34\u5230\u5730\u5740\u680f\uff0c\u9009\u62e9 POST \u4f5c\u4e3aHTTP\u8c03\u7528\u65b9\u6cd5\u3002 \u6253\u5f00Authorization\u914d\u7f6e\uff0c\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9Amazon Web Service Signature\uff0c\u5e76\u586b\u5199\u5bf9\u5e94\u8d26\u6237\u7684AccessKey\u3001SecretKey\u548cAmazon Web Service Region\uff08\u4f8b\u5982\uff0ccn-north-1\u6216cn-northwest-1\uff09\u3002 \u6253\u5f00Body\u914d\u7f6e\u9879\uff0c\u9009\u4e2draw\u548cJSON\u6570\u636e\u7c7b\u578b\u3002 \u5728Body\u4e2d\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\uff0c\u5355\u51fbSend\u6309\u94ae\u5373\u53ef\u770b\u5230\u76f8\u5e94\u8fd4\u56de\u7ed3\u679c\u3002 { \"url\": \"{{ no such element: dict object['sample_image'] }}\" }","title":"Postman\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"include-deploy-code/#curl","text":"Windows curl --location --request POST \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}\" ^ --header \"Content-Type: application/json\" ^ --data-raw \"{\\\"url\\\": \\\"{{ no such element: dict object['sample_image'] }}\\\"}\" Linux/MacOS curl --location --request POST 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"url\":\"{{ no such element: dict object['sample_image'] }}\" }'","title":"cURL"},{"location":"include-deploy-code/#pythonaws_iam","text":"import requests import json from aws_requests_auth.boto_utils import BotoAWSRequestsAuth auth = BotoAWSRequestsAuth(aws_host='[API_ID].execute-api.[AWS_REGION].amazonaws.com', aws_region='[AWS_REGION]', aws_service='execute-api') url = 'https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}' payload = { 'url': '{{ no such element: dict object['sample_image'] }}' } response = requests.request(\"POST\", url, data=json.dumps(payload), auth=auth) print(json.loads(response.text))","title":"Python\uff08AWS_IAM\u8ba4\u8bc1\uff09"},{"location":"include-deploy-code/#pythonnone","text":"import requests import json url = \"https://[API_ID].execute-api.[AWS_REGION].amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}\" payload = json.dumps({ \"url\": \"{{ no such element: dict object['sample_image'] }}\" }) headers = { 'Content-Type': 'application/json' } response = requests.request(\"POST\", url, headers=headers, data=payload) print(response.text)","title":"Python\uff08NONE\u8ba4\u8bc1\uff09"},{"location":"include-deploy-code/#java","text":"OkHttpClient client = new OkHttpClient().newBuilder() .build(); MediaType mediaType = MediaType.parse(\"application/json\"); RequestBody body = RequestBody.create(mediaType, \"{\\n \\\"url\\\":\\\"{{ no such element: dict object['sample_image'] }}\\\"\\n}\"); Request request = new Request.Builder() .url(\"https://xxxxxxxxxxx.execute-api.xxxxxxxxx.amazonaws.com/[STAGE]/{{ no such element: dict object['feature_endpoint'] }}\") .method(\"POST\", body) .addHeader(\"Content-Type\", \"application/json\") .build(); Response response = client.newCall(request).execute();","title":"Java"},{"location":"include-deploy-cost-10GB/","text":"\u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35","title":"include deploy cost 10GB"},{"location":"include-deploy-cost-10GB/#_1","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"include-deploy-cost-10GB/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a51134.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51237.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"include-deploy-cost-10GB/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b5810240MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $166.7 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $176.35","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"include-deploy-cost-8GB/","text":"\u6210\u672c\u9884\u4f30 \u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf \u6210\u672c\u9884\u4f30\u793a\u4f8b1 \u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06 \u6210\u672c\u9884\u4f30\u793a\u4f8b2 \u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"include deploy cost 8GB"},{"location":"include-deploy-cost-8GB/#_1","text":"\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5404\u4e2a\u670d\u52a1\u7684\u6210\u672c\u8d39\u7528\u3002\u622a\u81f32022\u5e745\u6708\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c\u56e0\u7d20\u4e3b\u8981\u5305\u62ec\uff1a AWS Lambda\u8c03\u7528\u6b21\u6570 AWS Lambda\u8fd0\u884c\u65f6\u95f4 Amazon API Gateway\u8c03\u7528\u6b21\u6570 Amazon API Gateway\u6570\u636e\u8f93\u51fa\u91cf Amazon CloudWatch Logs\u5b58\u50a8\u91cf Amazon Elastic Container Registry\u5b58\u50a8\u91cf","title":"\u6210\u672c\u9884\u4f30"},{"location":"include-deploy-cost-8GB/#1","text":"\u4ee5\u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df\uff08cn-northwest-1\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 AWS Lambda \u8c03\u7528\u767e\u4e07\u6b21 \u00a51.36 AWS Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 \u00a5907.8 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 \u00a528.94 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c\u00a50.933/GB \u00a59.33 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c\u00a56.228/GB \u00a562.28 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB\u00a50.69 \u00a50.35 \u5408\u8ba1 \u00a51010.06","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b1"},{"location":"include-deploy-cost-8GB/#2","text":"\u4ee5\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u533a\u57df\uff08us-east-2\uff09\u4e3a\u4f8b\uff0c\u5904\u74061MB\u56fe\u50cf\uff0c\u5904\u7406\u65f6\u95f41\u79d2 \u4f7f\u7528\u672c\u65b9\u6848\u5904\u7406\u6b64\u56fe\u50cf\u6240\u9700\u7684\u6210\u672c\u8d39\u7528\u5982\u4e0b\u8868\u6240\u793a\uff1a \u670d\u52a1 \u7528\u91cf \u8d39\u7528 Amazon Lambda \u8c03\u7528\u767e\u4e07\u6b21 $0.20 Amazon Lambda \u5185\u5b588192MB\uff0c\u6bcf\u6b21\u8fd0\u884c1\u79d2 $133.3 Amazon API Gateway \u8c03\u7528\u767e\u4e07\u6b21 $3.5 Amazon API Gateway \u6570\u636e\u8f93\u51fa\u4ee5\u6bcf\u6b2110KB\u8ba1\u7b97\uff0c$0.09/GB $0.9 Amazon CloudWatch Logs \u6bcf\u6b2110KB\uff0c$0.50/GB $5 Amazon Elastic Container Registry 0.5GB\u5b58\u50a8\uff0c\u6bcf\u6708\u6bcfGB$0.1 $0.05 \u5408\u8ba1 $142.95","title":"\u6210\u672c\u9884\u4f30\u793a\u4f8b2"},{"location":"include-deploy-description/","text":"{{ no such element: dict object['feature_description'] }} \u9002\u7528\u573a\u666f {{ no such element: dict object['feature_scenario'] }}","title":"Include deploy description"},{"location":"include-deploy-description/#_1","text":"{{ no such element: dict object['feature_scenario'] }}","title":"\u9002\u7528\u573a\u666f"},{"location":"include-deploy-lambda/","text":"\u89e3\u51b3\u65b9\u6848\u67b6\u6784 \u672c\u65b9\u6848\u4f7f\u7528\u57fa\u4e8eAWS Lambda\u3001Amazon API Gateway\u7b49\u7684\u65e0\u670d\u52a1\u5668\u67b6\u6784\u3002\u8be6\u60c5\u53ef\u53c2\u8003 \u67b6\u6784\u6982\u89c8\uff1a\u57fa\u4e8eLambda\u7684\u67b6\u6784 \u3002","title":"Include deploy lambda"},{"location":"include-deploy-lambda/#_1","text":"\u672c\u65b9\u6848\u4f7f\u7528\u57fa\u4e8eAWS Lambda\u3001Amazon API Gateway\u7b49\u7684\u65e0\u670d\u52a1\u5668\u67b6\u6784\u3002\u8be6\u60c5\u53ef\u53c2\u8003 \u67b6\u6784\u6982\u89c8\uff1a\u57fa\u4e8eLambda\u7684\u67b6\u6784 \u3002","title":"\u89e3\u51b3\u65b9\u6848\u67b6\u6784"},{"location":"include-deploy-uninstall/","text":"\u5378\u8f7d\u90e8\u7f72 \u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d {{ no such element: dict object['feature_name'] }} \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 {{ no such element: dict object['feature_id'] }} \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a{{ no such element: dict object['destroy_time'] }}","title":"Include deploy uninstall"},{"location":"include-deploy-uninstall/#_1","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7AWS CloudFormation\u5378\u8f7d {{ no such element: dict object['feature_name'] }} \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u8bf7\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff1a\u66f4\u65b0AWS CloudFormation\u5806\u6808\uff08\u6dfb\u52a0\u6216\u5220\u9664AI\u529f\u80fd\uff09 \uff0c\u5e76\u5728 \u53c2\u6570 \u90e8\u5206\u786e\u8ba4 {{ no such element: dict object['feature_id'] }} \u53c2\u6570\u8bbe\u7f6e\u4e3a no \u3002 \u5378\u8f7d\u65f6\u95f4 \uff1a{{ no such element: dict object['destroy_time'] }}","title":"\u5378\u8f7d\u90e8\u7f72"},{"location":"include-deploy/","text":"\u5feb\u901f\u90e8\u7f72 \u767b\u5f55 AWS\u7ba1\u7406\u63a7\u5236\u53f0 \u3002 \u901a\u8fc7Amazon CloudFormation\u90e8\u7f72 {{ no such element: dict object['feature_name'] }} \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u53ef\u53c2\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u3002\u8bf7\u52a1\u5fc5\u786e\u8ba4\u5728 \u53c2\u6570 \u90e8\u5206\u5c06 {{ no such element: dict object['feature_id'] }} \u53c2\u6570\u8bbe\u7f6e\u4e3a yes \u3002 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u67e5\u770b\u5305\u542b {{ no such element: dict object['feature_id'] }} \u540d\u79f0\u7684\u5d4c\u5957\u5806\u6808\uff08Nested Stack\uff09\u3002 \u90e8\u7f72\u65f6\u95f4\uff1a {{ no such element: dict object['deployment_time'] }}","title":"Include deploy"},{"location":"include-deploy/#_1","text":"\u767b\u5f55 AWS\u7ba1\u7406\u63a7\u5236\u53f0 \u3002 \u901a\u8fc7Amazon CloudFormation\u90e8\u7f72 {{ no such element: dict object['feature_name'] }} \u529f\u80fd\uff0c\u5177\u4f53\u6b65\u9aa4\u53ef\u53c2\u89c1 \u90e8\u7f72\u89e3\u51b3\u65b9\u6848 \u3002\u8bf7\u52a1\u5fc5\u786e\u8ba4\u5728 \u53c2\u6570 \u90e8\u5206\u5c06 {{ no such element: dict object['feature_id'] }} \u53c2\u6570\u8bbe\u7f6e\u4e3a yes \u3002 \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u67e5\u770b\u5305\u542b {{ no such element: dict object['feature_id'] }} \u540d\u79f0\u7684\u5d4c\u5957\u5806\u6808\uff08Nested Stack\uff09\u3002 \u90e8\u7f72\u65f6\u95f4\uff1a {{ no such element: dict object['deployment_time'] }}","title":"\u5feb\u901f\u90e8\u7f72"},{"location":"regions/","text":"\u76ee\u524d\u672c\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u7684\u670d\u52a1\u53ef\u80fd\u5e76\u975e\u5728\u6240\u6709\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u533a\u57df\u90fd\u53ef\u7528\u3002\u60a8\u9700\u8981\u5728\u63d0\u4f9b\u6240\u9700\u670d\u52a1\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u533a\u57df\u542f\u52a8\u6b64\u89e3\u51b3\u65b9\u6848\u3002\u6709\u5173\u6700\u65b0\u7684\u533a\u57df\u53ef\u7528\u6027\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u533a\u57df\u670d\u52a1\u5217\u8868\u3002 \u652f\u6301\u90e8\u7f72\u7684\u5168\u7403\u533a\u57df \u533a\u57df\u540d\u79f0 \u533a\u57dfID \u7f8e\u56fd\u4e1c\u90e8\uff08\u5f17\u5409\u5c3c\u4e9a\u5317\u90e8\uff09\u533a\u57df us-east-1 \u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\uff09\u533a\u57df us-east-2 \u7f8e\u56fd\u897f\u90e8\uff08\u52a0\u5229\u798f\u5c3c\u4e9a\u5317\u90e8\uff09\u533a\u57df us-west-1 \u7f8e\u56fd\u897f\u90e8\uff08\u4fc4\u52d2\u5188\uff09\u533a\u57df us-west-2 \u4e9a\u592a\u5730\u533a\uff08\u5b5f\u4e70\uff09\u533a\u57df ap-south-1 \u4e9a\u592a\u5730\u533a\uff08\u4e1c\u4eac\uff09\u533a\u57df ap-northeast-1 \u4e9a\u592a\u5730\u533a\uff08\u9996\u5c14\uff09\u533a\u57df ap-northeast-2 \u4e9a\u592a\u5730\u533a\uff08\u65b0\u52a0\u5761\uff09\u533a\u57df ap-southeast-1 \u4e9a\u592a\u5730\u533a\uff08\u6089\u5c3c\uff09\u533a\u57df ap-southeast-2 \u52a0\u62ff\u5927\uff08\u4e2d\u90e8\uff09\u533a\u57df ca-central-1 \u6b27\u6d32\uff08\u7231\u5c14\u5170\uff09\u533a\u57df eu-west-1 \u6b27\u6d32\uff08\u4f26\u6566\uff09\u533a\u57df eu-west-2 \u6b27\u6d32\uff08\u5df4\u9ece\uff09\u533a\u57df eu-west-3 \u6b27\u6d32\uff08\u6cd5\u5170\u514b\u798f\uff09\u533a\u57df eu-central-1 \u5357\u7f8e\u6d32\uff08\u5723\u4fdd\u7f57\uff09\u533a\u57df sa-east-1 \u652f\u6301\u90e8\u7f72\u7684\u4e2d\u56fd\u533a\u57df \u533a\u57df\u540d\u79f0 \u533a\u57dfID \u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df cn-northwest-1 \u7531\u5149\u73af\u65b0\u7f51\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5317\u4eac\uff09\u533a\u57df cn-north-1","title":"\u533a\u57df\u652f\u6301"},{"location":"regions/#_1","text":"\u533a\u57df\u540d\u79f0 \u533a\u57dfID \u7f8e\u56fd\u4e1c\u90e8\uff08\u5f17\u5409\u5c3c\u4e9a\u5317\u90e8\uff09\u533a\u57df us-east-1 \u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\uff09\u533a\u57df us-east-2 \u7f8e\u56fd\u897f\u90e8\uff08\u52a0\u5229\u798f\u5c3c\u4e9a\u5317\u90e8\uff09\u533a\u57df us-west-1 \u7f8e\u56fd\u897f\u90e8\uff08\u4fc4\u52d2\u5188\uff09\u533a\u57df us-west-2 \u4e9a\u592a\u5730\u533a\uff08\u5b5f\u4e70\uff09\u533a\u57df ap-south-1 \u4e9a\u592a\u5730\u533a\uff08\u4e1c\u4eac\uff09\u533a\u57df ap-northeast-1 \u4e9a\u592a\u5730\u533a\uff08\u9996\u5c14\uff09\u533a\u57df ap-northeast-2 \u4e9a\u592a\u5730\u533a\uff08\u65b0\u52a0\u5761\uff09\u533a\u57df ap-southeast-1 \u4e9a\u592a\u5730\u533a\uff08\u6089\u5c3c\uff09\u533a\u57df ap-southeast-2 \u52a0\u62ff\u5927\uff08\u4e2d\u90e8\uff09\u533a\u57df ca-central-1 \u6b27\u6d32\uff08\u7231\u5c14\u5170\uff09\u533a\u57df eu-west-1 \u6b27\u6d32\uff08\u4f26\u6566\uff09\u533a\u57df eu-west-2 \u6b27\u6d32\uff08\u5df4\u9ece\uff09\u533a\u57df eu-west-3 \u6b27\u6d32\uff08\u6cd5\u5170\u514b\u798f\uff09\u533a\u57df eu-central-1 \u5357\u7f8e\u6d32\uff08\u5723\u4fdd\u7f57\uff09\u533a\u57df sa-east-1","title":"\u652f\u6301\u90e8\u7f72\u7684\u5168\u7403\u533a\u57df"},{"location":"regions/#_2","text":"\u533a\u57df\u540d\u79f0 \u533a\u57dfID \u7531\u897f\u4e91\u6570\u636e\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u533a\u57df cn-northwest-1 \u7531\u5149\u73af\u65b0\u7f51\u8fd0\u8425\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e2d\u56fd\uff08\u5317\u4eac\uff09\u533a\u57df cn-north-1","title":"\u652f\u6301\u90e8\u7f72\u7684\u4e2d\u56fd\u533a\u57df"},{"location":"revisions/","text":"\u65e5\u671f \u53d1\u5e03\u8bf4\u660e 2021\u5e749\u6708 \u53d1\u5e03\u7248\u672c1.0.0 \u652f\u6301\u4ee5\u4e0bAI\u529f\u80fd\uff1a \u901a\u7528\u6587\u5b57\u8bc6\u522b \u56fe\u50cf\u8d85\u5206\u8fa8\u7387 \u667a\u80fd\u4eba\u50cf\u5206\u5272 \u8272\u60c5\u5185\u5bb9\u68c0\u6d4b 2022\u5e745\u6708 \u53d1\u5e03\u7248\u672c1.2.0 \u66f4\u65b0\u4ee5\u4e0bAI\u529f\u80fd\uff1a \u4f18\u5316\u901a\u7528\u6587\u5b57\u8bc6\u522b\u6a21\u578b \u901a\u7528\u6587\u5b57\u8bc6\u522b\uff08\u7e41\u4f53\u4e2d\u6587\uff09 \u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u5b57\u8bc6\u522b \u56fe\u7247\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u901a\u7528\u7269\u4f53\u8bc6\u522b \u4eba\u8138\u8bc6\u522b \u4eba\u8138\u76f8\u4f3c\u5ea6\u6bd4\u5bf9 \u4eba\u4f53\u7ed3\u6784\u5316\u5c5e\u6027 \u8f66\u724c\u4fe1\u606f\u8bc6\u522b \u6587\u672c\u76f8\u4f3c\u5ea6 \u66f4\u65b0\u4e86\u89e3\u51b3\u65b9\u6848\u67b6\u6784\uff1a \u652f\u6301OpenAPI\u89c4\u8303\uff0c\u96c6\u6210API Explorer AI\u6a21\u578b\u5bb9\u5668\u5316 CDK\u5347\u7ea7\u81f32.20.0 \u652f\u6301CloudFormation\u7edf\u4e00\u90e8\u7f72","title":"\u7248\u672c\u53d1\u5e03\u8bf4\u660e"},{"location":"security/","text":"\u5b89\u5168\u4fe1\u606f \u5f53\u60a8\u5728\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u57fa\u7840\u8bbe\u65bd\u4e0a\u6784\u5efa\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5b89\u5168\u8d23\u4efb\u7531\u60a8\u548c\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5171\u540c\u627f\u62c5\u3002\u6b64 \u8d23\u4efb\u5171\u62c5\u6a21\u578b \u51cf\u5c11\u4e86\u60a8\u7684\u64cd\u4f5c\u8d1f\u62c5\uff0c\u8fd9\u662f\u7531\u4e8e\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u64cd\u4f5c\u3001\u7ba1\u7406\u548c\u63a7\u5236\u7ec4\u4ef6\uff0c\u5305\u62ec\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u3001\u865a\u62df\u5316\u5c42\u4ee5\u53ca\u670d\u52a1\u8fd0\u884c\u6240\u5728\u8bbe\u65bd\u7684\u7269\u7406\u5b89\u5168\u6027\u3002\u6709\u5173\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5b89\u5168\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u8bbf\u95ee\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280 \u4e91\u5b89\u5168 \u3002 IAM\u89d2\u8272 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406\uff08IAM\uff09\u89d2\u8272\u5141\u8bb8\u5ba2\u6237\u4e3a\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e0a\u7684\u670d\u52a1\u548c\u7528\u6237\u5206\u914d\u7ec6\u7c92\u5ea6\u8bbf\u95ee\u7b56\u7565\u548c\u6743\u9650\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u4e86\u4e00\u4e9bIAM\u89d2\u8272\uff0c\u8fd9\u4e9b\u89d2\u8272\u6388\u4e88\u89e3\u51b3\u65b9\u6848\u5404\u7ec4\u4ef6\u95f4\u7684\u8bbf\u95ee\u6743\u9650\u3002","title":"\u5b89\u5168\u4fe1\u606f"},{"location":"security/#_1","text":"\u5f53\u60a8\u5728\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u57fa\u7840\u8bbe\u65bd\u4e0a\u6784\u5efa\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u5b89\u5168\u8d23\u4efb\u7531\u60a8\u548c\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5171\u540c\u627f\u62c5\u3002\u6b64 \u8d23\u4efb\u5171\u62c5\u6a21\u578b \u51cf\u5c11\u4e86\u60a8\u7684\u64cd\u4f5c\u8d1f\u62c5\uff0c\u8fd9\u662f\u7531\u4e8e\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u64cd\u4f5c\u3001\u7ba1\u7406\u548c\u63a7\u5236\u7ec4\u4ef6\uff0c\u5305\u62ec\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u3001\u865a\u62df\u5316\u5c42\u4ee5\u53ca\u670d\u52a1\u8fd0\u884c\u6240\u5728\u8bbe\u65bd\u7684\u7269\u7406\u5b89\u5168\u6027\u3002\u6709\u5173\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u5b89\u5168\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u8bbf\u95ee\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280 \u4e91\u5b89\u5168 \u3002","title":"\u5b89\u5168\u4fe1\u606f"},{"location":"security/#iam","text":"\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406\uff08IAM\uff09\u89d2\u8272\u5141\u8bb8\u5ba2\u6237\u4e3a\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e0a\u7684\u670d\u52a1\u548c\u7528\u6237\u5206\u914d\u7ec6\u7c92\u5ea6\u8bbf\u95ee\u7b56\u7565\u548c\u6743\u9650\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u4e86\u4e00\u4e9bIAM\u89d2\u8272\uff0c\u8fd9\u4e9b\u89d2\u8272\u6388\u4e88\u89e3\u51b3\u65b9\u6848\u5404\u7ec4\u4ef6\u95f4\u7684\u8bbf\u95ee\u6743\u9650\u3002","title":"IAM\u89d2\u8272"},{"location":"source/","text":"\u60a8\u53ef\u4ee5\u8bbf\u95ee\u6211\u4eec\u7684 GitHub\u5b58\u50a8\u5e93 \u4e0b\u8f7d\u6b64\u89e3\u51b3\u65b9\u6848\u7684\u6e90\u6587\u4ef6\u3002AI Solution Kit\u7684\u6a21\u677f\u662f\u4f7f\u7528 \u4e91\u5f00\u53d1\u5de5\u5177\u5305\uff08CDK\uff09 \u751f\u6210\u7684\u3002\u66f4\u591a\u6709\u5173\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 README.md \u6587\u4ef6\u3002","title":"\u6e90\u4ee3\u7801"},{"location":"template/","text":"\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\uff0c\u60a8\u53ef\u4ee5\u4e0b\u8f7d\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u7684\u4ee5\u4e0b\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280CloudFormation\u6a21\u677f\u3002\u60a8\u521b\u5efa\u5806\u6808\u65f6\uff0cCloudFormation\u4f1a\u914d\u7f6e\u6a21\u677f\u4e2d\u63cf\u8ff0\u7684\u8d44\u6e90\u3002\u66f4\u591a\u4fe1\u606f\u53ef\u53c2\u8003 CloudFormation\u6982\u5ff5 \u3002 AI-Solution-Kit.template : \u60a8\u53ef\u4ee5\u4f7f\u7528\u8be5\u6a21\u677f\u542f\u52a8\u89e3\u51b3\u65b9\u6848\u4ee5\u53ca\u76f8\u5173\u7ec4\u4ef6\u3002\u60a8\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u6a21\u677f\u4ee5\u6ee1\u8db3\u60a8\u7684\u7279\u5b9a\u9700\u6c42\u3002","title":"\u6a21\u677f\u4fe1\u606f"},{"location":"uninstall/","text":"\u8981\u5378\u8f7dAI Solution Kit\uff0c\u8bf7\u5220\u9664CloudFormation\u5806\u6808\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u7ba1\u7406\u63a7\u5236\u53f0\u6216CLI\u5220\u9664CloudFormation\u5806\u6808\u3002 \u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u7ba1\u7406\u63a7\u5236\u53f0\u5220\u9664\u5806\u6808 \u767b\u5f55 AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u5728 \u5806\u6808 \u9875\u9762\u4e0a\uff0c\u9009\u62e9\u6b64\u65b9\u6848\u7684\u5b89\u88c5\u5806\u6808\u3002 \u9009\u62e9 \u5220\u9664 \u3002 \u4f7f\u7528CLI\u5220\u9664\u5806\u6808 \u786e\u5b9a\u547d\u4ee4\u884c\u5728\u60a8\u7684\u73af\u5883\u4e2d\u662f\u5426\u53ef\u7528\u3002\u6709\u5173\u5b89\u88c5\u8bf4\u660e\uff0c\u8bf7\u53c2\u9605CLI\u7528\u6237\u6307\u5357\u4e2d\u7684 CLI\u662f\u4ec0\u4e48 \u3002 \u786e\u8ba4CLI\u53ef\u7528\u540e\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4: bash aws cloudformation delete-stack --stack-name <installation-stack-name>","title":"\u5378\u8f7d\u89e3\u51b3\u65b9\u6848"},{"location":"uninstall/#_1","text":"\u767b\u5f55 AWS CloudFormation \u63a7\u5236\u53f0\u3002 \u5728 \u5806\u6808 \u9875\u9762\u4e0a\uff0c\u9009\u62e9\u6b64\u65b9\u6848\u7684\u5b89\u88c5\u5806\u6808\u3002 \u9009\u62e9 \u5220\u9664 \u3002","title":"\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u7ba1\u7406\u63a7\u5236\u53f0\u5220\u9664\u5806\u6808"},{"location":"uninstall/#cli","text":"\u786e\u5b9a\u547d\u4ee4\u884c\u5728\u60a8\u7684\u73af\u5883\u4e2d\u662f\u5426\u53ef\u7528\u3002\u6709\u5173\u5b89\u88c5\u8bf4\u660e\uff0c\u8bf7\u53c2\u9605CLI\u7528\u6237\u6307\u5357\u4e2d\u7684 CLI\u662f\u4ec0\u4e48 \u3002 \u786e\u8ba4CLI\u53ef\u7528\u540e\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4: bash aws cloudformation delete-stack --stack-name <installation-stack-name>","title":"\u4f7f\u7528CLI\u5220\u9664\u5806\u6808"},{"location":"upgrade/","text":"\u5347\u7ea7\u573a\u666f1 \u5982\u679c\u60a8\u5df2\u7ecf\u90e8\u7f72\u5e76\u6b63\u5728\u4f7f\u7528\u7248\u672c1.0.0\u7684\u4e00\u90e8\u5206API\u529f\u80fd\u65f6\uff0c\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u5df2\u7ecf\u90e8\u7f72\u5728\u60a8AWS\u8d26\u6237\u91cc\u9762\u539f\u6709\u7684API\uff0c\u540c\u65f6\u8fd8\u53ef\u4ee5\u90e8\u7f72\u7248\u672c1.2.0\u4e2d\u65b0API\u63d0\u4f9b\u7684\u529f\u80fd\u3002 \u76ee\u524d\u7248\u672c1.0.0\u4e2d\u5305\u542b\u7684\u56db\u9879API\uff08 \u901a\u7528\u6587\u5b57\u8bc6\u522b\u3001\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u3001\u667a\u80fd\u4eba\u50cf\u5206\u5272\u3001\u8272\u60c5\u5185\u5bb9\u68c0\u6d4b\uff09\u4e2d\u7684\u63a5\u53e3\u5b9a\u4e49\u53c2\u6570\u4e0e1.2.0\u7248\u672c\u4e2d\u8fd9\u56db\u9879API\u7684\u529f\u80fd\u5b8c\u5168\u4e00\u81f4\uff0c\u60a8\u4ec5\u9700\u8981\u5728\u8c03\u7528\u4ee3\u7801\u4e2d\u66ff\u6362\u539f\u6709\u8c03\u7528URL\uff08Invoke URL)\u5730\u5740\u5373\u53ef\u4f7f\u7528\u3002 \u5347\u7ea7\u573a\u666f2 \u5982\u679c\u60a8\u60f3\u5c06\u539f\u6709API\u8c03\u7528URL\u5207\u6362\u5230\u65b0\u7248\u672c\u4e0a\uff0c\u53ef\u4ee5\u5728\u90e8\u7f72\u65b0\u7248\u672c\u540e\uff0c\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u8981\u8c03\u7528\u7684URL\u3002 \u8c03\u7528\u4ee3\u7801\u4e2d\u66ff\u6362\u539f\u6709\u8c03\u7528URL\u5730\u5740\u3002 \u5207\u6362\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u5728AWS CloudFormation\u63a7\u5236\u53f0\u4e2d\u5f7b\u5e95\u5220\u9664\u539f\u6709\u5806\u6808\uff0c\u4ece\u800c\u907f\u514d\u4ea7\u751f\u989d\u5916\u7684\u8d39\u7528\u3002\u6574\u4e2a\u5220\u9664\u8fc7\u7a0b\u5927\u7ea6\u9700\u898110\u5206\u949f\u3002","title":"\u5347\u7ea7\u89e3\u51b3\u65b9\u6848"},{"location":"upgrade/#1","text":"\u5982\u679c\u60a8\u5df2\u7ecf\u90e8\u7f72\u5e76\u6b63\u5728\u4f7f\u7528\u7248\u672c1.0.0\u7684\u4e00\u90e8\u5206API\u529f\u80fd\u65f6\uff0c\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u5df2\u7ecf\u90e8\u7f72\u5728\u60a8AWS\u8d26\u6237\u91cc\u9762\u539f\u6709\u7684API\uff0c\u540c\u65f6\u8fd8\u53ef\u4ee5\u90e8\u7f72\u7248\u672c1.2.0\u4e2d\u65b0API\u63d0\u4f9b\u7684\u529f\u80fd\u3002 \u76ee\u524d\u7248\u672c1.0.0\u4e2d\u5305\u542b\u7684\u56db\u9879API\uff08 \u901a\u7528\u6587\u5b57\u8bc6\u522b\u3001\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u3001\u667a\u80fd\u4eba\u50cf\u5206\u5272\u3001\u8272\u60c5\u5185\u5bb9\u68c0\u6d4b\uff09\u4e2d\u7684\u63a5\u53e3\u5b9a\u4e49\u53c2\u6570\u4e0e1.2.0\u7248\u672c\u4e2d\u8fd9\u56db\u9879API\u7684\u529f\u80fd\u5b8c\u5168\u4e00\u81f4\uff0c\u60a8\u4ec5\u9700\u8981\u5728\u8c03\u7528\u4ee3\u7801\u4e2d\u66ff\u6362\u539f\u6709\u8c03\u7528URL\uff08Invoke URL)\u5730\u5740\u5373\u53ef\u4f7f\u7528\u3002","title":"\u5347\u7ea7\u573a\u666f1"},{"location":"upgrade/#2","text":"\u5982\u679c\u60a8\u60f3\u5c06\u539f\u6709API\u8c03\u7528URL\u5207\u6362\u5230\u65b0\u7248\u672c\u4e0a\uff0c\u53ef\u4ee5\u5728\u90e8\u7f72\u65b0\u7248\u672c\u540e\uff0c\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u8bbf\u95ee AWS CloudFormation\u63a7\u5236\u53f0 \u3002 \u4ece\u5806\u6808\u5217\u8868\u4e2d\u9009\u62e9\u65b9\u6848\u7684\u6839\u5806\u6808\u3002 \u6253\u5f00 \u8f93\u51fa \u6807\u7b7e\u9875\uff0c\u627e\u5230\u8981\u8c03\u7528\u7684URL\u3002 \u8c03\u7528\u4ee3\u7801\u4e2d\u66ff\u6362\u539f\u6709\u8c03\u7528URL\u5730\u5740\u3002 \u5207\u6362\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u5728AWS CloudFormation\u63a7\u5236\u53f0\u4e2d\u5f7b\u5e95\u5220\u9664\u539f\u6709\u5806\u6808\uff0c\u4ece\u800c\u907f\u514d\u4ea7\u751f\u989d\u5916\u7684\u8d39\u7528\u3002\u6574\u4e2a\u5220\u9664\u8fc7\u7a0b\u5927\u7ea6\u9700\u898110\u5206\u949f\u3002","title":"\u5347\u7ea7\u573a\u666f2"}]}